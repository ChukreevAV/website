<!--#include virtual="/inc/header02.txt" -->
<title>GIS-Lab: Данные OpenStreetMap в форматах XML и PBF</title>
<!--#include virtual="/inc/header2.txt" -->
<div class="cont">
<div class="col1">

<ul class="path">
   <li class="first"><a href="/">Главная</a></li>
   <li><a href="/projects.html">Проекты</a></li>
</ul>
<!--Contents start-->

<h1>Данные OpenStreetMap в форматах XML и PBF</h1>
<p class="discuss discuss_top"><span>
  <!--#include virtual="/scripts/forum-comments-num.php?i=8053"-->
</span></p >
<p class="ann">Здесь можно скачать данные OSM в различных форматах</p>

<p>Используя опыт, накопленный в
рамках <a href="../osm-export.html">предыдущего проекта</a> по
экстракции данных из OpenStreetMap, мы запускаем новый проект,
решающий ту же задачу.</p>

<p>На данный момент проект находится в состоянии
alpha-версии. Надеемся, что после тестирования этот проект
заменит собой ту часть предыдущего, которая отвечает за формирование
дампов. Замечания и предложения всячески приветствуются.</p>


<h2>Покрытие</h2>

<p>На данный момент покрытие включает следующие страны: Армения,
Азербайджан, Беларусь, Грузия, Киргизия, Казахстан, Россия,
Таджикистан, Туркмения, Украина, Узбекистан. На данном этапе
Poly-файлы полностью идентичны предыдущему проекту.</p>

<p>Мы с удовольствием выслушаем ваши пожелания, касающиеся расширения
или уточнения зоны покрытия.</p>

<p>Все страны в виде одного файла доступны в файлах с
именем <tt>local</tt> (аналог <tt>full.osm</tt>).</p>


<h2>Детали</h2>

<p>Как и в предыдущем проекте, обрезка стран и регионов осуществляется
с опцией <tt>completeWays=yes</tt>.</p>

<p>В качестве промежуточного формата
используется <a href="http://wiki.openstreetmap.org/wiki/Pbf">osm.pbf</a>,
что, по предварительным оценкам, позволяет ускорить процесс генерации
дампов более чем в два раза. Файлы в
формате <a href="http://wiki.openstreetmap.org/wiki/XML">osm.bz2</a>,
получаются конвертацией из osm.pbf, упаковка которых
осуществляется <a href="http://www.compression.ca/pbzip2/">pbzip2</a>. По
причине использования последнего, Osmosis, а так же ряд
Java-приложений, не могут самостоятельно его распаковывать. В этом
случе необходимо прибегнуть к помощи сторонних архиваторов.</p>

<p>Для каждогов файла дампа доступен файл, в котором содержиться
информация о версии данных, вида <tt>[имя_файла].meta</tt>. Это
позволяет понять, какую версию данных содержит тот или иной
файл. Например: чтобы понять какую версию данных содержит
файл <a href="dump/latest/local.osm.pbf">dump/latest/local.osm.pbf</a>
достаточно посмотреть
файл <a href="dump/latest/local.osm.pbf.meta">dump/latest/local.osm.pbf.meta</a>.</p>

<h2>Лицензия</h2>

<p>На данный момент данные OpenStreetMap доступны по лицензии <a href="http://creativecommons.org/licenses/by-sa/2.0/legalcode">CC-BY-SA версии 2.0</a>. Подробнее о ваших правах и обязанностях можно почитать <a href="http://wiki.openstreetmap.org/wiki/Legal_FAQ">тут</a>.</p>


<h2>Обновление</h2>

<p>Данные обновляются ежедневно. К 08:30 по Москве  обычно все уже
готово. Страны в формате osm.pbf появляются, как правило, на час раньше.</p>


<h2>Данные</h2>

<!--#include virtual="data.php" -->

<p>
Все свежие версии: <a href="http://gis-lab.info/projects/osm_dump/dump/latest/">http://gis-lab.info/projects/osm_dump/dump/latest/</a><br/>
Все обновления: <a href="http://gis-lab.info/projects/osm_dump/diff/">http://gis-lab.info/projects/osm_dump/diff/</a><br/>
Poly-файлы: <a href="http://gis-lab.info/projects/osm_dump/poly/">http://gis-lab.info/projects/osm_dump/poly/</a>
</p>


<h2>Процесс</h2>

<p>Ниже приведено приблизительное описание того, как это работает на примере стран. Описание несколько упрощенное, однако в таком виде несколько проще понять суть происходящего:</p>

<p><u>Первоначально:</u></p>

<ol>
  <li>Из дампа <tt>planet</tt> вырезается все необходимое покрытие (<tt>local</tt>).</li>
  <li>Из <tt>local</tt> вырезаются все необходимые страны.</li>
</ol>

<p><u>Ежедневно:</u></p>

<ol>
  <li>Дамп <tt>local</tt> обновляется ежедневными diff-файлами, затем повторно обрезeтся.</li>
  <li>Из предыдущей и текущей версии <tt>local</tt> создается отдельный diff-файл.</li>
  <li>Страны, для которых существует предыдущая версия,
  обновляются diff-файлом, полученным в п.2, и обрезаются в
  соответствии с poly-файлом страны/региона.</li>
  <li>Страны, для которых не существует предыдущей версии,
  вырезаются из <tt>local</tt> при помощи соответствующего
  poly-файла.</li>
</ol>

<p>В качестве промежуточного формата используется osm.pbf, который затем конвертируется в osm.bz2.</p>


<p class="discuss"><span><!--#include virtual="/scripts/forum-comments-num.php?i=8053"--></span></p>
<!--Contents end-->
<!--#include virtual="/scripts/date.php" -->
<!--#include virtual="/inc/footer2.php" -->
