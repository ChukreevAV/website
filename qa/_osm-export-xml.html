<!--#include virtual="/inc/header02.txt" -->
<title>GIS-Lab: Название статьи</title>
<!--#include virtual="/inc/header2.txt" -->
<div class="cont">
<div class="col1">

<ul class="path">
   <li class="first"><a href="/">Главная</a></li>
   <li><a href="/qa.html">Статьи</a></li>
</ul>
<!--Contents start-->
<h1>Организация сервиса ежедневной нарезки данных OpenStreetMap на фрагменты </h1>
<p class="ann">Краткая аннотация</p>
<p class="discuss discuss_top"><span><!--#include virtual="/scripts/forum-comments-num.php?i=3728"--></span></p>

<p>Все данные OpenStreetMap (OSM) хранятся в единой базе данных представленной так называемой &quot;планетой&quot; - огромным файлом в формате OSM XML. </p>
<p>Так как работать с ним совершенно невозможно из-за его размера, то сначала из него вырезают некоторый фрагмент  разумного объема и дальше работают уже с ним. Так как данные OSM обновляются в режиме реального времени, процесс экстракции фрагмента или фрагментов обычно автоматизируют.</p>
<p>Эта статья использует двухлетний опыт ежедневной нарезки РФ и сопредельных территорий на субъекты федерации и документирует схему по которой она проводилась. Также приводятся использованные скрипты. </p>
<p>Разумеется, это лишь одна из возможных схем создания подобного сервиса. Мы надеемся, что она может помочь быстро создать на своем сервере подобный сервис для своей территории. </p>
<p><strong>Оглавление</strong></p>
<ol>
	  <li><a href="#01">Первый раздел</a></li>
	  <li><a href="#02">Второй раздел</a></li>
</ol>

<!-- Первый раздел -->
<h2>0. </h2>
<ul>
  <li>Osmosis, нарезка и обновление OSM XML</li>
  <li>QGIS, подготовка POLY-файлов </li>
</ul>
<h2><strong><a name="01" id="01"></a></strong>1. Подготовка основного дампа</h2>
<p>Первый вопрос, с которым нужно определиться - на какую территорию будет производиться нарезка, будет ли страна нарезаться на области или область на районы или может быть нарезка будет производиться на другие единицы. Так или иначе нужно решить каков общий географический охват рабочей территории. </p>
<p>Например мы решили, что разрезать на части будем всю РФ. Вся РФ и будет нашим основным рабочим дампом. </p>
<p>После того, как это решение принято, можно приступать к следующим действиям: </p>
<p>1. Скачаем полный дамп планеты с официального хранилища <a href="http://planet.openstreetmap.org/" target="_blank" class="external">http://planet.openstreetmap.org/</a>. Название нужного файла: planet-latest.osm.bz2 Обратите внимание, что он очень большого размера, но и скачивать его придется изредка. Также нужно обратить внимание на дату его создания. Так как наш сервис должен обновляться каждый день, нужно будет внимательно следить, чтобы не было пропущенных дней, начиная с загрузки дампа планеты. </p>
<p>Тут мы сразу сталкиваемся с первой проблемой. Дамп планеты обновляется один раз в неделю. </p>
<p>&nbsp;</p>
<p>2. Подготавливаем границу обрезки основного дампа. Сама операция обрезки осуществляется с помощью Osmosis, он в качестве границы полигона обрезки использует файл в формате POLY. Такие файлы по shape-файлам можно создавать в QGIS c помощью расширения OSMPOLY_export (<a href="osm-poly.html">подробнее</a>). </p>
<p>3. Производим обрезку и получаем основной дамп, с ним мы будем работать дальше. </p>
<pre>Пример кода программы/html и т.п.</pre>

<!-- Второй раздел -->
<h2><strong><a name="02" id="02"></a></strong>2. Второй раздел</h2>
<p>Текст статьи </p>
	<pre>Еще один пример текста программы
	   с сохранением переносов</pre>

<p>Таблица</p>
<table width="85%" align="center">
  <tr>
	<th>Заголовок</th>
	<th>Заголовок</th>
	<th>Заголовок</th>
  </tr>
  <tr>
	<td><p align="center">текст</p></td>
	<td><p align="center">текст</p></td>
	<td><p align="center">текст</p></td>
  </tr>
</table>
<p>&nbsp;</p>
<!-- обсуждение на форуме, цифра изменяется при публикации статьи -->   
<p class="discuss"><span><!--#include virtual="/scripts/forum-comments-num.php?i=852"--></span></p>
<!-- ссылки -->
<div class="links">
	<h2>Ссылки по теме</h2>
		<ul>
			<li><a href="modislandprod.html">Ссылка на дополнительный источник информации внутренняя</a></li>
			<li><a href="http://lpdaac.usgs.gov/landdaac/tools/modis/about.asp" target="_blank" class="external">Ссылка на дополнительный источник информации внешняя</a></li>
		</ul>
</div>
<!--Contents end-->
<!--#include virtual="/scripts/date.php" -->
<p class="status"><span>Дата создания: 04.07.2010
<br>Автор(ы): <a href="/forum/memberlist.php?mode=viewprofile&u=2" target="_blank">Максим Дубинин</a></span></p>
<!--#include virtual="/inc/footer2.php" -->
