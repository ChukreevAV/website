<!--#include virtual="/inc/header02.txt" -->
<title>GIS-Lab: Получение данных по точечным профилям из серий растровых данных в Arcview GIS/ArcGIS</title>
<!--#include virtual="/inc/header2.txt" -->
<div class="cont">
<div class="col1">

<ul class="path">
   <li class="first"><a href="/">Главная</a></li>
   <li><a href="/qa.html">Вопросы и ответы</a></li>
</ul>
<!--Contents start-->
<h1>Получение данных по точечным профилям из серий растровых данных в Arcview GIS/ArcGIS </h1>
<p class="ann">Описание работы со скриптом получения данных по точечным объектам для Arcview GIS и аналогичная операция в ArcGIS.</p>
<p class="discuss discuss_top"><span><!--#include virtual="/scripts/forum-comments-num.php?i=1328"--></span></p>
<p>Необходимым шагом при решении таких задач как построение спектральных профилей, количественная оценка точности растровых данных, анализ изменений и т.д. является получение данных из серий растров по некому набору точечных объектов. В отличие от <a href="/qa/zonalstats.html">зональной статистики</a>, где объектом для которого получаются данные является полигон и соответственно данные можно получить по нескольким показателям, для точечных данных производится экстракция только непосредственно значений растров. </p>
            <p>В качестве профиля может использоваться любой набор точек в виде shape-файла. В нем может содержаться любое количество точек.</p>
            <p align="center"><img src="/images/extract-values-grids-01.gif" alt="zonalstats" width="456" height="301" /></p>
            <p>Статистика подсчитывается для растровых файлов в формате GRID, а так же одно или многоканальных изображений, загруженных в содержание вида. В случае работы с изображениями они должны быть загружены в TOC как image themes, для работы с данными в формате IMG (ERDAS) предварительно необходимо подключить расширение IMAGINE Image Support. Количество растровых тем неограничено, однако попытка загрузить одновременно большое количество растров может привести к временному &quot;подвисанию&quot; Arcview. Если нужно загрузить много GRID-тем, рекомендуется делать это порциями. </p>
            <p>GRID-темы могут быть как целочисленными (integer), так и иметь значения с плавающей запятой (float), для каждого GRID будет определен его тип и поле со значениями в точечном файле будет такого же типа. Изображения могут быть 8 и 16-битными, 16-битные изображения со знаком могут импортироваться некорректно. </p>
            <p>В процессе работы, для каждого точечного объекта в shape файле, для каждого растрового слоя, будет произведена операция получения данных из растрового слоя. При получении данных, если точка попадает на пиксел со значением NODATA значение получено не будет. </p>
            <p>Для каждого растрового слоя в точечном слое будет создано поле с названием равным названию растрового слоя. Таким образом, например, если у вас 6 точек и 100 растровых матриц, будет получено 600 значений. Возможность получения данных одновременно для серии растров и записи полученных значений в атрибутивную таблицу темы является ключевой особенностью данного расширения. Данная особенность может пригодится <a href="/qa/gimms.html">для анализа значений временных серий данных (например NDVI)</a>. </p>
            <p>Скрипт может работать как со спроектированным, так и неспроектированным видом.</p>
            <p>Таким образом, для  получения данных по точечным профилям в Arcview GIS необходимо:</p>
            <ol>
              <li>Включить Spatial Analyst (File\Extensions\Spatial Analyst) </li>
              <li>Скачать и подключить скрипт <a href="/programs/avenue/extractdata.zip">extractdata.avx</a> (File\Extensions\Extract data...) <br />
                <br />
                <img src="/images/extract-values-grids-02.gif" width="375" height="152" alt="z" /><br />
                <br />
              </li>
              <li>Загрузить в содержание вида точечную тему и растровые слои, для которых необходимо подсчитать статистику, например <a href="/qa/gimms.html">матрицы NDVI</a>.</li>
              <li>Сделать активной  точечную тему (выбрать ее) и нажать на кнопку <img src="/images/extract-values-grids-03.gif" width="25" height="22" alt="z" />.</li>
              <li>Вычисление также можно использовать часть объектов точечной темы, для этого нужно просто их выделить и нажать на кнопку <img src="/images/extract-values-grids-03.gif" width="25" height="22" alt="z" />.</li>
            </ol>
            <p>Аналогичную получить данные можно и с помощью ArcGIS используя команду из набора Arctoolbox: Spatial Analyst Tools\Extraction\Extract values to  points. В результате операции будет создан новый shape-файл, в который будут скопированы все атрибуты из исходного и добавлено новое поле с полученными значениями. Модуль Spatial Analyst должен быть установлен и включен: Tools\Extensions\Spatial Analyst. Данный инструмент преднозначен для работы с одним растров. Для многочисленных растров нужно использовать инструмент Sample, находящийся в той же группе. Результатом его работы является таблица.</p>
            <p>Если исходные данных находятся не в формате GRID, а в каком-то другом TIFF, IMG и т.д. и являются многоканальными, переводить такие данные в GRID и использовать точечные профили не всегда целесообразно. Для таких данных можно также использовать <a href="extract-pixel-data.html">полигональные профили и несколько другую схему работы</a>. </p>
            <p class="discuss">
				<span><!--#include virtual="/scripts/forum-comments-num.php?i=1328"--></span>
			</p>
			<div class="links">
			<h2>Ссылки по теме</h2>
			<ul>
               <li><a href="/qa/gimms.html">Данные AVHRR проекта GIMMS</a></li>
			   <li><a href="/qa/zonalstats.html">Расчет зональной статистики в Arcview GIS</a></li>
			   <li><a href="/qa/importraster-ai.html">Пакетный импорт растровых данных в GRID с помощью Arcinfo Workstation</a></li>
			</ul>
			</div>
<!--Contents end-->
<!--#include virtual="/scripts/date.php" -->
<p class="status"><span>Дата создания: 30.12.2006
<br>Автор(ы): <a href="/forum/memberlist.php?mode=viewprofile&u=2" target="_blank">Максим Дубинин</a></span></p>
<!--#include virtual="/inc/footer2.php" -->