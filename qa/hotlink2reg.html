<!--#include virtual="/inc/header02.txt" -->
<title>GIS-Lab: Hotlink на область (уменьшение точности hotlink)</title>
<!--#include virtual="/inc/header2.txt" -->
<div class="cont">
<div class="col1">

<ul class="path">
   <li class="first"><a href="/">Главная</a></li>
   <li><a href="/qa.html">Вопросы и ответы</a></li>
</ul>
<!--Contents start-->
<h1>Hotlink на область (уменьшение точности hotlink)</h1>
<p class="ann">Описание видоизмененного инструмента "горячей связи"</p>
<p align="right"><i>при участии И.Поспелова</i></p>
<p class="discuss discuss_top"><span><!--#include virtual="/scripts/forum-comments-num.php?i=4076"--></span></p>
            <p>Связывание объектов темы ArcView с внешними файлами используется довольно
              часто - как правило, это графические изображения, WEB-страницы, текстовые
              документы и т.д. С описываемой ниже проблемой пришлось столкнуться при
              привязке фотографий к карте местности. При этом использовался широко распространенный
              просмотровщик графики IrfanView, достоинство которого - в отсутствии необходимости
              инсталляции (достаточно переместить файлы IrfanView в каталог с любым
              именем, и программа будет работать оттуда, в том чиcле с CD). </p>
            <p>В Help ArcViev 3.x приведен образец внедряемого в проект
              скрипта для запуска любого приложения для открытия документов, прописанных
              в поле горячей связи атрибутивной таблицы темы. Этот скрипт был
              переработан и использован для вызова фотографий, привязанных к точкам
              с указанием направления съемки. </p>
            <p>При использовании точечной темы с крупными символами выявиляется следующая
              неприятность - на мониторах с высоким разрешением (1024х768 и выше) инструментом
              Hotlink стало довольно трудно попасть в объект (при использовании разрешения
              1280х1024 иногда это сделать еще сложнее, причем попасть надо было в весьма
              условный &quot;центр точеного объекта&quot; - символа). </p>
            <p>В процессе анализа проблемы выяснилось, что в системном запросе, определяющем
              точность инструмента (кстати, не только Hotlink, а и инструмента выбора)
              зафиксирована область в 3 пиксела экрана. Впрочем, это объяснимо - когда
              разрабатывалась ArcView для Windows (середина 90х годов) мониторы с разрешением
              выше 1280х1024 были не столь широко распространены, как сейчас. </p>
            <p>Область поиска самого инструмента Hotlink по умолчанию равняется 3 пикселам,
              что недостаточно на больших экранных разрешениях. К сожалению запрос <b>FindbyPoint(p)</b>,
              которым собственно и осуществляется поиск, не позволяет менять этот допуск.</p>
            <p>Решением проблемы было изменение самого принципа действия инструмента
              - поиск объектов было необходимо реализовать не по точке, а по области
              экрана. Для этого был разработан нижеприведенный скрипт.</p>
            <table width="100%">
              <tr>
                <td width="20%"><p><a href="../programs/scripts/hotlink2region.ave">Скачать скрипт</a><br />
                    <a href="../programs/avenue/hotlink2region.zip">Скачать расширение</a></p></td>
                <td><p><b>!!!Внимание</b><br />
                    И в скрипте и расширении для просмотра используется просмотровщик <a href="http://www.irfanview.com">IrfanView</a>, имеющий
                    следующий путь на диске <b>c:\Tools\iview\i_view32.exe</b>,
                    для работы с другим просмотрщиком, или если IrfanView у вас
                    установлен в другой папке нужно с помощью любого текстового
                    редактора найти и заменить путь и название файла указанные
                    выше на путь и название к вашему просмотровщику.</p>
                  <p>В случае использовании скрипта, для использования возможности задания
                    области точности вам нужно будет также создать для него кнопку на
                    панели кнопок (подробнее об этом <a href="butscript.html">здесь</a>)</p></td>
              </tr>
            </table>
            <p>Принцип его работы прост, используется не поиск по точке (<b>FindbyPoint</b>)
              а поиск по области (окружности - <b>FindbyCircle</b>), что также позволяет
              интерактивно задавать эту область, чтобы не испытывать трудности с &quot;попаданием&quot;
              в нужный символ.</p>
            <p align="center"><img src="../images/hotlink2.gif" width="484" height="295" border="1" alt="Рис.1. Задание области реагирования на hotlink, с помощью клавиши shift" align="bottom" /> </p>
            <p align="center"><b>Рис.1. Задание области реагирования
              на hotlink, с помощью клавиши shift</b> </p>
            <p align="center"><img src="/images/hotlink3.gif" width="484" height="266" border="1" alt="Рис.2. Вызов внешнего просмотровщика для графики (IrfanView, справа)" /></p>
            <p align="center"><b>Рис.2. Вызов внешнего просмотровщика
              для графики (IrfanView, справа)</b></p>
<p class="discuss"><span><!--#include virtual="/scripts/forum-comments-num.php?i=4076"--></span></p>
<!--Contents end-->
<!--#include virtual="/scripts/date.php" -->
<p class="status"><span>Дата создания: 25.11.2002
<br>Автор(ы): <a href="/forum/memberlist.php?mode=viewprofile&u=2" target="_blank">Максим Дубинин</a></span></p>
<!--#include virtual="/inc/footer2.php" -->
