<!--#include virtual="/inc/header02.txt" -->
<title>GIS-Lab: FireReporter: отправка отчетов о пожарах с мобильного устройства</title>
<!--#include virtual="/inc/header2.txt" -->
<div class="cont">
<div class="col1">

<ul class="path">
   <li class="first"><a href="/">Главная</a></li>
   <li><a href="/qa.html">Вопросы и ответы</a></li>
</ul>
<!--Contents start-->
<h1>FireReporter: отправка отчетов о пожарах с мобильного устройства</h1>
<p class="ann">Инструмент для отправки сообщений о пожарах или получения
информации о ближайших к заданной точке пожаров.</p>
<p class="discuss discuss_top"><span><!--#include virtual="/scripts/forum-comments-num.php?i=8920"--></span></p>

<p>Пожары&nbsp;&mdash; регулярное явление, ежегодно приводящее к огромным
убыткам. Методы противодействия пожару делятся на уменьшающие вероятность
возникновения пожара (профилактические) и непосредственно пожаротушение.
К сожалению, отсутствие системы мониторинга и оповещения значительно
усложняет выполнение работ по ликвидации пожаров.</p>
<p>Существующие системы мониторинга, такие как <a href="/qa/firms.html">FIRMS</a> и др.
в какой-то степени решают проблему мониторинга и оповещения, но используют только один источник данных - результаты дистанционного спутникогового зондирования земной поверхности. Это существенно ограничивает точность и полноту данных. Улучшение этих сервисов возможно с привлечением широкой общественности к сбору данных о возгораниях. </p>
<p>FireReporter&nbsp;&mdash; небольшое приложение для устройств под управлением
OC Android версии 2.2 и старше, позволяющее буквально в несколько нажатий
отправить в централизованную базу данных сведения о пожаре либо получить
список пожаров, находящихся в окрестностях.</p>
<p>Разработка приложения выполнена компанией NextGIS.</p>

<div style="text-align:center;margin:10px 0;"><a href="http://nextgis.ru" target="_blank"><img height="33" width="100" alt="Комания NextGIS: Создание открытого ПО ГИС и реализация проектов" src="http://nextgis.ru/img/nextgis.png" style="margin: 0pt 7px 0pt 0pt; vertical-align: middle;"></a><strong style="font: bold 11px Arial;">Создание открытого ПО ГИС и реализация проектов</strong></div>

<p><strong>Оглавление</strong></p>
<ol>
  <li><a href="#01">Получение и установка</a></li>
  <li><a href="#02">Работа с приложением</a></li>
  <li><a href="#03">Заключение</a></li>
  <li><a href="#04">Контакты</a></li>
</ol>

<h2><strong><a name="01" id="01"></a></strong>1. Получение и установка</h2>
<p>Приложение доступно как в виде исходного кода на языке Java, так и в
виде готового к установке бинарного пакета APK.</p>
<h3>Бинарная сборка</h3>
<p>Загрузить приложение можно перейдя по <a href="http://svn.gis-lab.info/firereporter/trunk/bin/FireReporter.apk">ссылке</a>
либо воспользовавшись следующим QR кодом</p>
<p align="center"><img src="/images/firereporter-01.png" alt="FireReporter QR code" width="312" height="312"></img></p>
<p><strong>Важно!</strong> Приложение разработано для Android 2.2 и старше,
желательно наличие в устройстве приемника GPS, акселлерометра и компаса.</p>

<h3>Исходный код</h3>
<p>Исходный код приложения (лицензия GNU GPL v2) можно получить, выполнив
команду</p>
<pre>svn co http://svn.gis-lab.info/firereporter/trunk firereporter</pre>

<h2><strong><a name="02" id="02"></a></strong>2. Работа с приложением</h2>
<p>Просле установки приложение помещает свой значок в меню запуска приложений.</p>

<p align="center"><img src="/images/firereporter-02.png" alt="Приложение на панели запуска" width="240" height="400"></img></p>

<p>После нажатия на иконку появится главное окно приложения, разбитое на
четыре вкладки: &laquo;Отчет&raquo;, &laquo;Просмотр&raquo;, &laquo;Настройки&raquo;
и &laquo;Инфо&raquo;.</p>

<h3>Настройка приложения</h3>
<p>Вкладка &laquo;Настройки&raquo; предназначена для настройки приложения.
Все настройки разбиты на две группы: общие настройки и настройки соединения
с базами данных.</p>

<p align="center"><img src="/images/firereporter-03.png" alt="Вкладка Settings" width="240" height="400"></img></p>

<p>Открыв &laquo;Общие настройки&raquo;, можно задать интервал в минутах
между повторными попытками отослать данные на сервер если сетевое соединение
отсутствует (подробнее об этом ниже) и указать максимальное количество
отображаемых при просмотре пожаров. В этом разделе также настраивается
режим поиска: если флажок &laquo;Искать по текущей дате&raquo; сброшен,
то будут отображены ближайшие к текущему положению пожары без учета даты.
Если же флажок активен&nbsp;&mdash; приложение будет искать ближайшие
пожары на текущую дату.</p>

<p align="center"><img src="/images/firereporter-04.png" alt="Общие настройки" width="240" height="400"></img></p>

<p>В группе &laquo;Настройки баз данных&raquo; задаются параметры подключения
к базам данных, используемым приложением.</p>

<p align="center"><img src="/images/firereporter-05.png" alt="Настройки баз данных" width="240" height="400"></img></p>

<p>Приложение в своей работе использует две базы данных: базу отчетов&nbsp;&mdash;
для сбора присылаемых отчетов и базу пожаров&nbsp;&mdash; для получения ближайших
пожаров (наполняется по данным MOD14). База, параметры подключения к которой
необходимо изменить, выбирается при помощи выпадающего списка.</p>

<p align="center"><img src="/images/firereporter-06.png" alt="Выбор базы данных" width="240" height="400"></img></p>

<p>Настройки стандартные: сервер, порт, название базы данных, имя пользователя
и пароль, использовать или нет SSL. По умолчанию используются базы данных
на GIS-LAB.info, но никто не запрещает использовать любые другие БД с
аналогичной структурой или доработать приложение для взаимодействия с базами
другой структуры.</p>
<p>Параметры подключения к базе отчетов следующие:</p>
<ul>
  <li>сервер: gis-lab.info</li>
  <li>база данных: firereporter</li>
  <li>пользователь: firereporter</li>
  <li>пароль: 8QdA4</li>
</ul>
<p>Параметры подключения к базе пожаров можно найти в соответствующей
<a href="/qa/mod14-data.html">статье</a>.</p>

<h3>Отправка оповещения о пожаре</h3>
<p>Вкладка &laquo;Отчет&raquo; предназначена для отправки информации
о пожаре в БД.</p>

<p align="center"><img src="/images/firereporter-07.png" alt="Вкладка Send report" width="240" height="400"></img></p>

<p>При наличии встроенного приемника GPS поля &laquo;Широта&raquo; и
&laquo;Долгота&raquo; заполняются автоматически, их редактирование
блокируется. Если приемник GPS в устройстве отсутствует, то выводится
соответствующее предупреждение, поля блокируются, а информацию о как можно
более точном расположение очага пожара необходимо ввести в поле
&laquo;Комментарий&raquo;.</p>
<p>Иногда в полях может вместо координат выводится текст &laquo;Нет данных&raquo;,
в таком случае необходимо подождать пока поступит информация от приемника GPS.
При необходимости можно и сразу отправить отчет, но перед отправкой будет
показно предупреждение.</p>
<p>Аналогичным образом организовано и заполнение поля &laquo;Азимут&raquo;.
Если устройство оснащено акселлерометром и компасом, для получения азимута
достаточно указать телефоном в направлении пожара. В противном случае поле
блокируется, а необходимая для ориентирования информация вносится в поле
&laquo;Комментарий&raquo;.</p>
<p>Кнопка &laquo;Заблокировать&raquo; позволяет зафиксировать показания
приемника GPS и компаса. После ее нажатия изменение положения телефона в
пространстве или смена координат не будут отслеживаться, а надпись сменится
на &laquo;Разблокировать&raquo;.</p>

<p align="center"><img src="/images/firereporter-08.png" alt="Блокировка положения" width="240" height="400"></img></p>

<p>Эта функция позволяет определить положение очага, а затем заполнять
остальные поля формы не беспокоясь о возможном изменении положения и/или
координат. Повторное нажатие на кнопку активирует функцию слежения за
направлением и координатами.</p>
<p>В поле &laquo;Расстояние&raquo; заносится примерное расстояние до очага
горения в метрах. Таким образом можно передавать как точные данные об очаге
горения (подойдя к нему на максимально близкое расстояние), так и приблизительные.</p>
<p>В поле &laquo;Комментарий&raquo; указывается дополнительная информация о
пожаре, а в случае невозможности определить координаты и направление&nbsp;&mdash;
и сведения о его расположении.</p>
<p>При нажатии на кнопку &laquo;Отправить&raquo; и наличии выхода в интернет
введенные данные будут отправлены в БД. Если в момент отправки данных
выход в интернет отсутствует, данные будут сохранены в локальном хранилище
и будет запущен сервис отложенной отправки данных, работающий независимо
от приложения.</p>
<p>Каждые N минут (интервал задается в настройках приложения) сервис
отложенной отправки данных будет &laquo;пробуждаться&raquo; и проверять
наличие выхода в интернет. Если соединение установить не удается, сервис
опять &laquo;засыпает&raquo; на N минут. Если же при пробуждении сервиса
выход в интернет присутствует, все неотправленные отчеты отсылаются в
центральную БД и сервис отложенной отправки данных останавливается.</p>

<h3>Просмотр информации о ближайших пожарах</h3>
<p>Используя вкладку &laquo;Просмотр&raquo; при наличии встроенного
приемника GPS и выхода в интернет можно получить информацию о близлежащих
пожарах.</p>

<p align="center"><img src="/images/firereporter-09.png" alt="Вкладка View fires" width="240" height="400"></img></p>

<p>Для этого достаточно нажать на кнопку &laquo;Поиск&raquo; и через некоторое
время (зависит от скорости соединения и загруженности сервера БД) в таблице
отобразится информация о нескольких ближайших пожарах (количество настраивается
на вкладке &laquo;Настройки&raquo;) с расстояниями до них.</p>
<p>Для поиска ближайших пожаров используется отдельная база данных; в качестве
источника информации о пожарах используются данные <a href="/qa/mod14a1.html">MOD14</a>.</p>

<h2><strong><a name="03" id="03"></a></strong>3. Заключение</h2>
<p>FireReporter является попыткой создать открытую систему мониторинга и
оповещения о пожарах, доступную всем и не требующую специальных навыков
и какого-либо оборудования кроме более-менее современного устройства под
управлением ОС Android 2.2 или старше.</p>
<p>Возможность отложенной фоновой отправки данных позволяет выполнять сбор
информации не зависимо от наличия или отсутствия каналов связи в момент
сбора.</p>
<p>Кроме того, с минимальными изменениями приложение можно адаптировать для
решения других подобных задач, например, для сообщения о незаконных свалках
и подобных задач.</p>
<p>Разумеется, приложение не лишено недостатков. Так, в текущей версии
отсутствует контроль за изменением ориентации устройства, выполнение
длительных процессов (например, поиска по БД) иногда может блокировать
интерфейс, нет возможности просмотреть статус отложенных отчетов. Но авторы
работают над их устранением.</p>

<h2><strong><a name="04" id="04"></a></strong>5. Контакты</h2>
<p>Если вы нашли ошибку, у вас есть предложения по улучшению расширения или
просто вопросы по использованию&nbsp;&mdash; напишите <a href="http://www.nextgis.ru/contact/">нам</a>.</p>
<div style="text-align:center;margin:10px 0;"><a href="http://nextgis.ru" target="_blank"><img height="33" width="100" alt="Комания NextGIS: Создание открытого ПО ГИС и реализация проектов" src="http://nextgis.ru/img/nextgis.png" style="margin: 0pt 7px 0pt 0pt; vertical-align: middle;"></a><strong style="font: bold 11px Arial;">Создание открытого ПО ГИС и реализация проектов</strong></div>

<!-- обсуждение на форуме, цифра изменяется при публикации статьи -->
<p class="discuss"><span><!--#include virtual="/scripts/forum-comments-num.php?i=8920"--></span></p>

<div class="links">
<h2>Ссылки по теме</h2>
<ul>
   <li><a href="/qa/firms.html">Мониторинг пожаров на природных территориях с помощью сервиса FIRMS</a></li>
   <li><a href="/qa/mod14-data.html">Данные по тепловым аномалиям MOD14: получение</a></li>
   <li><a href="http://maps.geog.umd.edu/firms/" target="_blank" class="external">Fire Information for Resource Management System</a></li>
   <li><a href="http://fires.kosmosnimki.ru/" target="_blank" class="external">Космоснимки&nbsp;&mdash; мониторинг пожаров</a></li>
</ul>
</div>

<!--Contents end-->
<!--#include virtual="/scripts/date.php" -->
<p class="status"><span>Дата создания: 26.08.2011
<br>Автор(ы): <a href="/forum/memberlist.php?mode=viewprofile&u=5325" target="_blank">Александр Бруй</a></span></p>
<!--#include virtual="/inc/footer2.php" -->
