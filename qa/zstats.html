<!--#include virtual="/inc/header02.txt" -->
<title>GIS-Lab: Зональная статистика с помощью ZStats для QGIS</title>
<!--#include virtual="/inc/header2.txt" -->
<div class="cont">
<div class="col1">

<ul class="path">
   <li class="first"><a href="/">Главная</a></li>
   <li><a href="/qa.html">Вопросы и ответы</a></li>
</ul>
<!--Contents start-->
<h1>Зональная статистика с помощью ZStats для QGIS</h1>
<p class="ann">Описание и пример использования нового инструмента расчета
зональной статистики.</p>
<p class="discuss discuss_top"><span><!--#include virtual="/scripts/forum-comments-num.php?i=8172"--></span></p>

<p>За тематической классификацией растра, обычно, следует анализ результатов.
Одним из видов такого анализа является расчет зональной статистики.</p>
<p>ZStats является расширением свободной ГИС QGIS, которое позволяет выполнять
расчет зональной статистики и выводить краткий отчет.</p>
<p>Разработка расширения выполнена NextGIS в рамках проекта по мониторингу
лесов сертифицированных FSC (Forest Stewardship Council).</p>

<div style="text-align:center;margin:10px 0;"><a href="http://nextgis.ru" target="_blank"><img height="33" width="100" alt="Комания NextGIS: Создание открытого ПО ГИС и реализация проектов" src="http://nextgis.ru/img/nextgis.png" style="margin: 0pt 7px 0pt 0pt; vertical-align: middle;"></a><strong style="font: bold 11px Arial;">Создание открытого ПО ГИС и реализация проектов</strong></div>

<p><strong>Оглавление</strong></p>
<ol>
  <li><a href="#01">Получение и установка</a></li>
  <li><a href="#02">Работа с расширением</a></li>
  <li><a href="#03">Контакты</a></li>
</ol>

<h2><strong><a name="01" id="01"></a></strong>1. Получение и установка</h2>
<p>Расширение доступно из <a href="/programs/qgis/qgis-repo.xml">репозитория ГИС-Лаб</a>.</p>
<p>ZStats разработан для QGIS версии 1.7.2 или старше и не имеет зависимостей.</p>
<p>Исходный код модуля можно получить выполнив команду</p>
<pre>svn co http://svn.gis-lab.info/zstats zstats</pre>

<h2><strong><a name="02" id="02"></a></strong>2. Работа с расширением</h2>
<p>После подключения и запуска расширения с помощью кнопки
<img src="/images/zstats-01.png" alt="Кнопка расширения" width="32" height="32"></img>
появится главное окно.</p>

<p align="center"><img src="/images/zstats-02.png" alt="Главное окно расширения" width="508" height="354"></img></p>

<p>На вкладке &laquo;Настройка&raquo; задаются основные параметры.</p>
<p>В выпадающем списке &laquo;Растровый слой&raquo; выбирается растровый
слой, по которому будет считаться зональная статистика. Обычно это одноканальный
растр, полученный в результате тематической классификации.</p>
<p><strong>ВАЖНО!</strong> Расширение ориентировано на обработку результатов
классификации, полученных при помощи модуля <a href="/qa/dtclassifier.html">DTclassifier</a>
(0&nbsp;&mdash; признак отсутствует; 1&nbsp;&mdash; признак присутсвует). Для
использования Zstats с растрами, имеющими другую &laquo;кодировку&raquo;
из необходимо преобразовать в соответствующий вид.</p>
<p>В списке &laquo;Полигональный слой (зоны)&raquo; выбирается полигональный
векторный слой, содержащий границы зон. Список &laquo;Брать имена зон из поля&raquo;
служит для выбора поля, которое будет использоваться для идентификации
(подписывания) зон. Если установить флажок &laquo;Группировка зон по полю&raquo;,
то зоны с одинаковым значением выбранного поля будут считаться одной зоной.
По умолчанию этот флаг сброшен и каждый объект слоя считается самостоятельной
зоной.</p>
<p>В поле &laquo;Сохранить отчет как&raquo; указывается файл, в который будет
записан результат расчета в формате HTML. В дополнение к отчету в формате HTML
модуль автоматически формирует файл CSV с данными анализа, который в дальнейшем
можно легко загрузить в табличный процессор или статистический пакет. По умолчанию,
данные в формате CSV записываются рядом с отчетом, имя файла состоит из имени
отчета и суффикса &laquo;_data&raquo;. Если необходимо сохранить файл CSV в другой
каталог, достаточно установить флажок &laquo;Сохранить данные как&raquo; и указать
желаемый путь.</p>
<p>Анализ запускается нажатием на кнопку &laquo;OK&raquo;.</p>
<p>Расширение подчитывает количество пикселей, соответствующих нарушениям, а затем
вычисляет площадь зоны, пострадавшую от этих нарушений.</p>
<p>Просмотреть результаты можно не закрывая модуль на вкладке &laquo;Отчет&raquo;.</p>

<p align="center"><img src="/images/zstats-03.png" alt="Результат анализа" width="508" height="354"></img></p>

<p>Отчет содержит три поля:</p>
<ul>
  <li>первый столбец содержит имена зон (берутся из заданного пользователем поля)</li>
  <li>&laquo;Object count&raquo;&nbsp;&mdash; количество объектов в зоне. Имеет
  смысл, когда включена группировка зон по имени. В этом поле отображается количество
  объектов, включенных в зону (т.&nbsp;е. количество объектов с одинаковым именем)</li>
  <li>&laquo;Area&raquo;&nbsp;&mdash; площадь. Единицы измерения зависят от единиц
  измерения слоя (метры, километры, футы...)</li>
</ul>

<h2><strong><a name="03" id="03"></a></strong>3. Контакты</h2>
<p>Если вы нашли ошибку, у вас есть предложения по улучшению расширения или
просто вопросы по использованию&nbsp;&mdash; напишите <a href="http://www.nextgis.ru/contact/">нам</a>.</p>
<div style="text-align:center;margin:10px 0;"><a href="http://nextgis.ru" target="_blank"><img height="33" width="100" alt="Комания NextGIS: Создание открытого ПО ГИС и реализация проектов" src="http://nextgis.ru/img/nextgis.png" style="margin: 0pt 7px 0pt 0pt; vertical-align: middle;"></a><strong style="font: bold 11px Arial;">Создание открытого ПО ГИС и реализация проектов</strong></div>

<!-- обсуждение на форуме, цифра изменяется при публикации статьи -->
<p class="discuss"><span><!--#include virtual="/scripts/forum-comments-num.php?i=8172"--></span></p>

<div class="links">
<h2>Ссылки по теме</h2>
<ul>
   <li><a href="/qa/dtclassifier.html">Классификация растровых данных при помощи DTclassifier для QGIS</a></li>
   <li><a href="/qa/rastercalc.html">Растровая арифметика в QGIS с помощью RasterCalc</a></li>
</ul>
</div>

<!--Contents end-->
<!--#include virtual="/scripts/date.php" -->
<p class="status"><span>Дата создания: 29.11.2011
<br>Автор(ы): <a href="/forum/memberlist.php?mode=viewprofile&u=5325" target="_blank">Александр Бруй</a>, <a href="/forum/memberlist.php?mode=viewprofile&u=2" target="_blank">Максим Дубинин</a></span></p>
<!--#include virtual="/inc/footer2.php" -->
