<!--#include virtual="/inc/header02.txt" -->
<title>GIS-Lab: Расчет зональной статистики в Arcview GIS</title>
<!--#include virtual="/inc/header2.txt" -->
<div class="cont">
<div class="col1">

<ul class="path">
   <li class="first"><a href="/">Главная</a></li>
   <li><a href="/qa.html">Вопросы и ответы</a></li>
</ul>
<!--Contents start-->
<h1>Расчет зональной статистики в Arcview GIS</h1>
<p class="ann">Описание работы со скриптом получения зональной статистики для Arcview GIS.</p>
<p class="discuss discuss_top"><span><!--#include virtual="/scripts/forum-comments-num.php?i=1141"--></span></p>
<p>Зональная статистика - вычисление одной из широко используемых статистик: суммы, среднего, стандартного отклонения и т.п. для набора данных попадающих в зону определяемую некоторыми границами.</p>
            <p>В качестве границ может использоваться любой полигональный shape-файл. В нем может содержаться любое количество полигонов. Значение  выбранного статистического показателя будет расчитано для каждого полигона.</p>
            <p>Возможен расчет следующих показателей (за раз расчитывается только один показатель, для того, чтобы рассчитать несколько показателей, после каждого расчета необходимо сохранять получившуюся таблицу в новый файл):</p>
            <ul>
              <li>sum - сумма всех значений</li>
              <li>min - минимальное значение</li>
              <li>max - максимальное значение</li>
              <li>count - количество значений (количество пиксел в границах зоны, кроме пиксел со значением NODATA) </li>
              <li>area - площадь занятая пикселами зоны</li>
              <li>range - диапазон значений</li>
              <li>std - стандартное отклонение</li>
              <li>mean - среднее значение (если часть пиксел имеют значение NODATA, в расчете среднего они участвовать не будут) </li>
              <li>median - медиана (если часть пиксел имеют значение NODATA, в расчете медианы они участвовать не будут) </li>
              <li>majority</li>
              <li>minority</li>
              <li>variety </li>
            </ul>
            <p>Статистика подсчитывается для растровых файлов в формате GRID, загруженных в содержание вида. Количество растровых тем неограничено, однако попытка загрузить одновременно большое количество растров может привести к временному &quot;подвисанию&quot; Arcview. Если нужно загрузить много GRID-тем, рекомендуется делать это порциями. </p>
            <p>В процессе работы, для каждого полигонального объекта в shape файле, для каждого растрового слоя, будет произведена операция зональной статистики, например, подсчитана сумма значений всех ячеек в пределах полигона. При расчете любой статистики, пикселы со значением NODATA попадающие в зону расчета будут игнорироваться. </p>
            <p align="center"><img src="/images/zonalstats-01.gif" alt="Зоны и растр" width="212" height="198" />   <img src="/images/zonalstats-03.gif" alt="Пример получения данных" width="300" height="198" /></p>
            <p>Если все пиксели в пределах зоны имеют значение NODATA - расширение выдаст ошибку и прекратит работу. Если это произошло, можно попробовать выделить остальные полигоны, кроме вызывающего ошибку и повторить операцию. </p>
            <p>Если полигон зоны вообще не попадает в географический охват соответствующего GRID'а со значениями, значение статистики для него не расчитывается. </p>
            <p>Для каждого растрового слоя в полигональном слое будет создано поле с названием равным названию растрового слоя. Таким образом, например, если у вас 6 полигонов и 100 растровых матриц, будет произведено 600 вычислений выбранной статистики. Возможность получения статистики одновременно для серии растров и записи полученных значений в атрибутивную таблицу темы является ключевой особенностью данного расширения в ущерб одновременному получению всех статистических показателей. Данная особенность может пригодится <a href="/qa/gimms.html">для анализа значений временных серий данных (например NDVI)</a>. </p>
            <p><strong>Примечания:</strong></p>
            <ul>
              <li>Расширение работает как со спроектированным, так и неспроектированным видом;</li>
              <li>Расширение работает как с данными GRID так и изображениями загруженными как Image data source, если в качестве исходных материалов выбираются изображения, они конвертируются во временные гриды, которые удаляются по завершении текущей сессии Arcview;</li>
              <li>При необходимости, темы в TOC могут быть отсортированы перед вычислениями, это делает результирующую таблицу более читабельной. </li>
            </ul>
            <p>Таким образом, для  работы необходимо:</p>
            <ol>
              <li>Включить Spatial Analyst (File\Extensions\Spatial Analyst) </li>
              <li>Скачать и подключить скрипт <a href="/programs/avenue/zonalstats.zip">zonalstats.avx</a> (File\Extensions\Zonalstats) </li>
              <li>Загрузить в содержание вида полигональную тему и растровые слои, для которых необходимо подсчитать статистику, например <a href="/qa/gimms.html">матрицы NDVI</a>.</li>
              <li>Выбрать полигональную тему и нажать на кнопку <img src="/images/zonalstats-02.gif" width="25" height="23" alt="z" />.</li>
              <li>Выбрать тип рассчитываемого показателя.</li>
              <li>Для вычисления показателя также можно использовать только часть объектов полигональной темы, для этого нужно просто их выделить и нажать на кнопку <img src="/images/zonalstats-02.gif" width="25" height="23" alt="z" />.</li>
            </ol>
            <p class="discuss">
				<span><!--#include virtual="/scripts/forum-comments-num.php?i=1141"--></span>
			</p>
            <div class="links">
			<h2>Ссылки по теме</h2>
				<ul>
					<li><a href="/qa/gimms.html">Данные AVHRR проекта GIMMS</a></li>
					<li><a href="/qa/importraster-ai.html">Пакетный импорт растровых данных в GRID с помощью Arcinfo Workstation</a></li>
					<li><a href="/qa/extract-values-grids.html">Получение данных по точечным профилям из серий данных в формате GRID</a></li>
				</ul>
			</div>
<!--Contents end-->
<!--#include virtual="/scripts/date.php" -->
<p class="status"><span>Дата создания: 08.08.2006
<br>Автор(ы): <a href="/forum/memberlist.php?mode=viewprofile&u=2" target="_blank">Максим Дубинин</a></span></p>
<!--#include virtual="/inc/footer2.php" -->
