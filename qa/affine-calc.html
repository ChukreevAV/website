<!--#include virtual="/inc/header02.txt" -->
<title>GIS-Lab: Аффинные преобразования - математика</title>
<!--#include virtual="/inc/header2.txt" -->
<!--Contents start-->
<div class="cont">
<div class="col1">

<ul class="path">
   <li class="first"><a href="/">Главная</a></li>
   <li><a href="/qa.html">Вопросы и ответы</a></li>
</ul>
<h1>Аффинные преобразования - математика </h1>
            <p class="ann">Математические выкладки решения задачи, применяемой при привязке данных</p>
            <p><strong>Введение</strong></p>
            <p>При операции географической привязки данных, то есть перевода данных из локальной системы координат в географическую или прямоугольную, сам пересчет обычно происходит &quot;за сценой&quot; и его особенности часто понятны пользователю только интуитивно. Эта статья показывает полный алгоритм пересчета и может быть использована для реализации алгоритмов привязки данных в своем ПО и просто для более полного понимания того, что происходит на самом деле. Аффинные преобразования являются подмножеством полиномиальных преобразований. Аффинное преобразование является эквивалентом полиномиального преобразования первого порядка. Для менее насыщенного формулами описания рекомендуем ознакомиться со статьей &quot;<a href="polynom.html">Полиномиальные преобразования</a>&quot;. Указанная статья, хотя и содержит формулы преобразований, не показывает детальной их реализации, однако представляет важную информацию о  применении данных преобразований на практике. </p>
            <p>Данная статья иллюстрирует случай, когда количество точек привязки равно минимально необходимому, в данном случае n = 3. В случае если точек больше и необходимо так же вычислить ошибку, математика будет несколько другая. Мы планируем осветить этот вопрос в отдельной статье. </p>
            <p><strong><a name="01" id="01"></a>Математика</strong></p>
            <p>Решение задачи трансформации сводится к нахождению коэффициентов системы уравнений. Напомним, что в случае аффинного преобразования, система уравнений выглядит следующим образом:</p>
	        <p align="center"><img src="/images/affine-math-01.gif" alt="система уравнений" width="126" height="51" /> </p>
	        <p>где:</p>
	        <p>x,y - координаты в исходной системе координат (известны) <br />
	          x<sup>'</sup>,y<sup>'</sup> - координаты в конечной системе координат (известны)<br />
            a<sub>i</sub>,b<sub>i</sub> - коэффициенты (неизвестны)</p>
	        <p>Таким образом, имея 6 неизвестных, нам понадобится 3 пар точек с известными координатами до и после трансформации (x1,y1; x2,y2; x3,y3 и x1',y1'; x2',y2'; x3',y3'), соответственно получим 3 пары уравнений:</p>
	        <p align="center"><img src="/images/affine-math-02.gif" alt="система уравнений" width="143" height="158" /></p>
	        <p>Или, перегруппируя этот набор уравнений  по x и y:</p>
	        <p align="center"><img src="/images/affine-math-03.gif" alt="система уравнений" width="135" height="172" /></p>
	        <p>Каждая группа используется соответственно для получения коэффициентов a<sub>i</sub> и b<sub>i</sub>. В матричной форме это выглядит следующим образом, для a и b:</p>
	        <p align="center"><img src="/images/affine-math-04.gif" alt="система уравнений" width="165" height="174" /></p>
	        <p>Для получение коэффициентов, каждая часть уравнения должна быть умножена на обратную матрицу с коэффициентами, например для a:</p>
	        <p align="center"><img src="/images/affine-math-05.gif" alt="система уравнений" width="353" height="80" /></p>
	        <p>Таким образом в матричной форме, вычисление коэффициентов:</p>
	        <p align="center"><img src="/images/affine-math-06.gif" alt="система уравнений" width="177" height="173" /></p>
	        <p>Необходимо иметь в виду, что для обратного преобразования из x,y в x<sup>'</sup>,y<sup>'</sup> матрица коэффициентов будет другая:</p>
	        <p align="center"><img src="/images/affine-math-07.gif" alt="система уравнений" width="183" height="178" /></p>
	        <p>Таким образом, для решения данной системы, наше программное обеспечение должно уметь производить операции получения обратной матрицы и умножения матриц.
	          <!-- Второй раздел -->
</p>
	        <p>Полученный набор коэффициентов подставляется потом в исходные уравнения и задача получения новых координат решается для каждого пиксела исходного растра, получая таким образом новую матрицу в выходной системе координат.</p>
	        <p class="discuss">
				<span><!--#include virtual="/scripts/forum-comments-num.php?i=2049"--></span>
			</p>
			<div class="links">
			<h2>Ссылки по теме</h2>
			<ul>
               <li><a href="polynom.html">Полиномиальные преобразования</a></li>
			   <li><a href="rmse.html">Среднеквадратичная ошибка (RMSE)</a></li>
			   <li><a href="polynom-calc-examples.html">Полиномиальные преобразования - примеры реализации</a></li>
			</ul>
			</div>
            <!--#include virtual="/scripts/date.php" -->
<!--Contents end-->
<!--#include virtual="/inc/footer2.php" -->
