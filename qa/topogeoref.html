<!--#include virtual="/inc/header02.txt" -->
<title>GIS-Lab: Привязка топографических карт в ERDAS IMAGINE</title>
<!--#include virtual="/inc/header2.txt" -->
<div class="cont">
<div class="col1">

<ul class="path">
   <li class="first"><a href="/">Главная</a></li>
   <li><a href="/qa.html">Вопросы и ответы</a></li>
</ul>
<!--Contents start-->
<h1>Привязка топографических карт в ERDAS IMAGINE</h1>
<p class="ann">Подробное описание последовательности шагов которые необходимо произвести для привязки топографических карт в ERDAS IMAGINE</p>
<p class="discuss discuss_top"><span><!--#include virtual="/scripts/forum-comments-num.php?i=4071"--></span></p>
            <p>Суть географической привязки топографических карт, как любых других материалов, заключается в установке связи между пиксельными координатами неких точек на карте (опорных точек или тиков) с источником известных координат для этих точек.</p>
            <p>Для отсканированных топографических карт опорными точками являются специальные отметки на самой карте, по ее углам, в центре и по краям карты, для которых источником координат является сама карта, так как эти координаты на ней обозначены.</p>
            <table width="60%"  border="0" align="center">
              <tr>
                <td><span><img src="/images/topogeoref-09.gif" width="103" height="93" /></span></td>
                <td><span><img src="/images/topogeoref-10.gif" width="102" height="97" /></span></td>
                <td><span><img src="/images/topogeoref-11.gif" width="103" height="94" /></span></td>
              </tr>
            </table>
            <p>Данное описание процесса привязки подходит также для любых других карт с нанесенной координатной сеткой (например мелкомасштабных тематических и др).</p>
            <p>В главной панели <b>ERDAS Imagine</b> нажимаете кнопку <b>Viewer</b>. В окно открывшегося вьюера загружаете топографическую
              карту, или любой другой растр с нанесенными на него координатами (в виде координатной сетки, точек и т.д.) которую необходимо привязать.</p>
            <p>Для того, чтобы изображение полностью вписалось в окно с помощью правой кнопке внутри Viewer выберите Fit image to window. </p>
            <p>В главном меню Viewer выбираете <b>Raster | Geometric
              Correction</b>. Перед вами откроется окно <b>Set Geometric Model</b></p>
            <p align="center"><img src="/images/topogeoref1.gif" width="215" height="273" border="1" /></p>
            <p>В этом окне нужно выбрать <b>Polynomial</b> и нажать
              OK. После этого откроется окно <b>Polynomial Model Properties</b></p>
            <p align="center"><img src="/images/topogeoref-02.gif" width="404" height="351" border="1" /></p>
            <p>В закладке <b>Polynomial Order</b> введите порядок
              полинома равный 2, затем в закладке <b>Projection</b> нажмите <b>Add/Change
              Projection</b>. В диалоговом окне <b>Projection Chooser</b> необходимо
              определить систему координат, в единицах которой будут представлены
              вводимые значения GCP-точек (точек привязки). Удобнее всего в случае
              привязки топографических карт поступить следующим образом: сначала
              определить проекцию как географическую и вводить значения GCP-точек
              с карты в десятичных градусах или в формате dd/mm/ss, а потом, после
              того как все GCP-точки будут набраны, переопределить систему координат
              в спроектированную прямоугольную. Таким образом, в диалоговом окне Projection Chooser
              во вкладке <b>Standard</b> из списка нужно выбрать <b>Geographic</b> и во вкладке <b>Custom</b> определить Spheroid name - Krasovsky
              и Datum name - Pulkovo 1942.</p>
            <p align="center"><img src="/images/topogeoref3.gif" width="630" height="379" border="1" /></p>
            <p> После этого, вы опять окажетесь в окне Polynomial
              Model Properties. Теперь в этом окне будут установлены только что
              выбранные параметры системы координат. Нажимаете Apply (если кнопка
              Apply не активна, еще раз перейдите в закладку Polynomial Order
              и наберите порядок равный 2, после этого кнопка Apply станет активной)
              и затем Close.</p>
            <p>После этого, перед вами раскроется окно <b>GCP Tool
              Reference Setup</b> - в этом окне необходимо определить источник
              GCP-точек. </p>
            <p align="center"><img src="/images/topogeoref4.gif" width="282" height="349" border="1" /></p>
            <p>В случае привязки топографической карты источником
              этих точек будут являться только вводимые с помощью клавиатуры значения,
              поэтому выбираете <b>Keyboard only</b> и нажимаете OK. После этого
              перед вами откроется окно Reference Map Projection, где вы можете
              отредактировать установленную проекцию. Нажимаете ОК.</p>
            <p align="center"><img src="/images/topogeoref-05.gif" width="511" height="370" border="1" /></p>
            <p>Автоматически будут открыты следующие окна и панели:</p>
            <ol>
              <li> Viewer с загруженной топокартой</li>
              <li> Magnifier</li>
              <li> панель GCP-Tool</li>
              <li> панель Geo Correction Tool</li>
            </ol>
            <p>Окно <b>Magnifier</b> - это модифицированное окно
              Viewer. Проще говоря, это окно Viewer связанное с основным Viewer
              (через опцию Link), отключенными панелями инструментов и уменьшенное
              до небольшого размера. В этом окне будет отображаться увеличенный
              в некоторое число раз фрагмент топокарты. </p>
            <p>Панель <strong>Geo Correction Tool</strong> - главное меню геометрической
              коррекции. </p>
            <p align="center"><img src="/images/topogeoref-06.gif" width="215" height="169" border="1" /></p>
            <p> <img src="/images/topogeoref-but1.gif" width="43" height="38" /> - <b>Polynomial Model Properties</b> - вызов окна Polynomial Model
              Properties<br />
              <img src="/images/topogeoref-but2.gif" width="43" height="38" /> -<b> GCP-Tool </b>- вызов окна GCP-Tool<br />
              <img src="/images/topogeoref-but3.gif" width="43" height="43" /> - <b>Resample Icon</b> - выбор метода передискретизации <br />
              <img src="/images/topogeoref-but4.gif" width="43" height="43" /> - <b>Calibrate Image</b> - калибровка изображения.</p>
            <p>В начале процесс привязки, кнопки Resamle и Calibrate будут недоступны, так как для выполнения этих процессов требуется некоторое количество опорных точек. </p>
            <p>Панель GCP-Tool - панель, с помощью которой будет
              осуществляться ввод GCP-точек. </p>
            <p align="center"><img src="/images/topogeoref-07a.gif" width="726" height="116" /></p>
            <p align="center"><img src="/images/topogeoref-07b.gif" width="591" height="128" /></p>
            <p>Панель представляет собой таблицу со следующими основными
              полями:</p>
            <ul>
              <li><b>Point ID</b> - идентификационный номер точки</li>
              <li><b>&gt;</b> - значок, позволяющий сделать точку
                активной </li>
              <li><b>Color</b> - цвет точки </li>
              <li><b>X, Y input</b> - координаты точки в системе
                файловых координат входного изображения</li>
              <li><b>X, Y Reference</b> - координаты точки в системе
                координат карты (в случае привязки топокарты, ввод точки будет
                осуществляться в географической системе координат (десятичные
                градусы), а потом будет пересчитан в метрические координаты)</li>
              <li><b>Type</b> - тип точки (контрольная - <b>control</b> или проверочная - <b>check</b>)</li>
            </ul>
            <p>Кроме того, для каждой строки после расчета RMS-error
              (среднеквадратичная ошибка) в трех отдельных столбцах будут показаны
              ошибки по оси X (X Residual), по оси Y (Y Residual), и вклад в общую
              RMS-погрешность (RMS Error).</p>
            <p>Следующая стадия привязки - непосредственно набор
              точек привязки, расчет RMS-погрешности и редактирование точек (если
              это необходимо).</p>
            <p> В первую очередь на панели инструментов GCP-Tool необходимо отключить
              кнопки <img src="/images/topogeoref-but5.gif" width="25" height="24" /> и <img src="/images/topogeoref-but6.gif" width="26" height="23" />,
              таким образом в процессе набора точек не будут использоваться режимы <b>prediction</b> (предсказание положения точек) и автоматический
              пересчет RMS-погрешности, после изменения положения какой-либо точки. </p>
            <p>После этого во Viewer нужно увеличить фрагмент топокарты
              в точке с известными координатами (на топокарте такими точками являются
              углы карты, пересечения параллелей и меридианов с известными координатами).
              Затем нажать кнопку <img src="/images/topogeoref-but9.gif" width="24" height="24" /> (создание GCP-точки) и ставите точку во вьюере на найденом пересечении.
              Как Вы увидите, после этого автоматически в столбцах X input, Y
              input будут проставлены координаты точки в пиксельной системе координат.
              Теперь в столбцах X, Y Reference нужно ввести координаты точки в
              десятичных градусах или координаты в формате <b>dd/mm/ss</b>. Ввод
              может осуществляться двумя способами. Например, если вам необходимо
              ввести координаты 45 30 северной широты:</p>
            <ol>
              <li>через пробел: 45 пробел 30 (45 30)</li>
              <li>через двоеточие: 45 двоеточие 30 (45:30)</li>
            </ol>
            <p>Оба способа абсолютно равнозначны.</p>
            <p>В процессе ввода и редактирования точек привязки необходимо
              руководствоваться следующими принципами:</p>
            <ol>
              <li>равномерность простановки точек</li>
              <li> избыточность</li>
            </ol>
            <p>Для полиномиального преобразования 2-й степени минимальное
              количество точек равно 6. Но для получения хорошего результата число
              точек должно быть больше. </p>
            <p>После того, как все точки будут набраны, необходимо
              проверить правильность проставленных точек привязки и введенных
              значений координат. Для этого нужно рассчитать RMS-ошибку нажав
              кнопку <img src="/images/topogeoref-but7.gif" width="24" height="24" /> на панели инструментов GCP-Tool. После этого в верхней части панели
              GCP-Tool появится рассчитанная ошибка.</p>
            <p>Удовлетворительной для правильно отсканированной топокарты
              является ошибка менее 1 (оптимально, если порядок ошибки не более
              0,5). </p>
            <p>После того, как все точки были введены необходимо
              осуществить пересчет значений из десятичных градусов в метры. Для
              этого в панели <b>Geo Correction Tool</b> выбираете первую кнопку.
              Ее нажатие вызывает окно <b>Polynomial Model Properties</b>. Во
              вкладке <b>Projection</b> нажимаете кнопку Add/Change Projection
              и в окне Projection Chooser во вкладке Standard из списка выбираете
              ту проекцию, которая вам необходима. Нажимаете ОК - перед вами появится
              окно-предупреждение о том, что координаты будут пересчитаны из dd/mm/ss
              в метры. В нем нужно выбрать Recompute Solution и нажать ОК. После
              этого Вы увидите, что значения в колонках X, Y Reference изменятся
              на метрические. При этом, если все сделано правильно, то значение
              RMS-ошибки измениться не должно. Перед тем, как перейти к следующей
              части привязки рекомендуем сохранить точки привязки. Это можно сделать
              выбрав в главном меню панели <b>GCP-Tool File | Save Input as…</b> и <b>Save Reference as…</b>. Эти файлы будут сохранены с расширением <strong>*.gcc</strong>. </p>
            <p>Последняя стадия привязки - это определение метода
              передискритизации (Resample method). Для этого на панели Geo Correction
              Tool нажимаете Resample. Перед вами откроется окно Resample</p>
            <p align="center"><img src="/images/topogeoref8.gif" width="366" height="463" /></p>
            <p>Здесь необходимо ввести имя выходного файла и выбрать
              метод <b>Resample Method</b> - <b>Nearest Neighbor</b>. Также, чтобы
              в процессе расчета статистики, нулевые значения пикселов были проигнорированы
              нужно поставить галочку рядом с полем <b>Ignore Zero in Stats</b>.</p>
            <p>Теперь остается только дождаться завершения завершения
              процесса привязки и нажать ОК. В процесс привязки состояние процесса
              и выполняемых действий будет отражаться в окне Job Status dialog.
              После того, как процесс будет завершен, кнопка ОК станет активной
              и статус процесса будет &quot;100% complete&quot;. </p>
            <p>Проверить точность привязки можно при наличии сетки
              разграфки для топокарт определенного масштаба. Для этого в ArcView
              нужно загрузить привязанную топокарту и открыть файл разграфки с
              предварительно рассчитанной сеткой топокарт. После этого просмотреть
              в точках пересечения параллелей и меридианов точность совпадения <a href="/qa/topogrids.html">с сеткой файла разграфки</a>. </p>
<p class="discuss"><span><!--#include virtual="/scripts/forum-comments-num.php?i=4071"--></span></p>
<!--Contents end-->
<!--#include virtual="/scripts/date.php" -->
<p class="status"><span>Дата создания: 08.05.2004
<br>Автор(ы): <a href="/forum/memberlist.php?mode=viewprofile&u=2" target="_blank">Максим Дубинин</a></span></p>
<!--#include virtual="/inc/footer2.php" -->
