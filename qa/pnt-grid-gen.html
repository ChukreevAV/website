<!--#include virtual="/inc/header02.txt" -->
<title>GIS-Lab: Генерализация точечных данных полигональной сеткой</title>
<!--#include virtual="/inc/header2.txt" -->
<!--Contents start-->
<div class="cont">
<div class="col1">

<ul class="path">
   <li class="first"><a href="/">Главная</a></li>
   <li><a href="/qa.html">Вопросы и ответы</a></li>
</ul>
<h1>Генерализация точечных данных полигональной сеткой </h1>
            <p class="ann">В статье рассматривается метод генерализации  точеных данных с помощью заранее расчитанной полигональной сетки</p>
            <p class="discuss discuss_top"><span><!--#include virtual="/scripts/forum-comments-num.php?i=2167"--></span></p>
            <p>Генерализация проводится путем осреднения  значений точек, находящихся в определенной окрестности. В качестве окрестности может применяться любая полигональная тема. В примере показана генерализация значений высот, в принципе усредняться могут любые другие значения. </p>
            <p><strong>Оглавление</strong></p>
            <ol>
                  <li><a href="#01">Создание полигональной сетки</a></li>
                  <li><a href="#02">Наложение сетки на генерализуемую точечную тему</a></li>
                  <li><a href="#03">Создание новой генерализованной темы </a></li>
            </ol>


<!-- Первый раздел -->
            <p><strong><img src="/images/1.gif" alt="1" width="33" height="41" align="left" /><a name="01" id="01"></a>Создание полигональной сетки с определенным размером ячейки</strong></p>
	    <p>Перед началом генерализации  необходимо определиться с размером ячейки генерализации. Например, если  пространственная точность данных 0.06&deg;, т.е. точки shape-файла находятся  на этом расстоянии друг от друга, а нужно генерализовать до 0.25&deg;, то размер ячейки создаваемой сетки должен  быть равен 0.25&deg;. Сетку строим в  географической системе координат (geographic coordinate system), а  потом, если необходимо, ее можно перевести в систему координат генерализуемого  shape-файла (подробнее о том, <a href="/projects/salmon-viz.html">как создать сетку</a>).</p>
	    <!-- Второй раздел -->
<p><strong><img src="/images/2.gif" alt="2" width="33" height="41" align="left" /><a name="02" id="02"></a>Наложение сетки на  генерализуемую точечную тему</strong></p>
	        <p>Полученную сетку мы будем использовать для генерализации на нее данных.</p>
	        <p>По шагам:  </p>
	        <p>1. Добавляем в вид тему с точками и тему с координатной сеткой (View\Add theme… или кнопкой <img src="/images/pnt-grid-gen-01.jpg" width="27" height="24" />)</p>
	        <p align="center"><img src="/images/pnt-grid-gen-02.jpg" width="453" height="742" /></p>
	        <p>2. Выделяем тему с координатной  сеткой</p>
	        <p align="center"><img src="/images/pnt-grid-gen-03.jpg" width="203" height="157" /></p>
	        <p>3. Добавляем в проект скрипт расчета плотности точек (<a href="addscript.html">как добавлять скрипты</a>), (<a href="/programs/scripts/count-points-density.ave">скачать скрипт</a>).</p>
	        <p>4. В тексте скрипта исправляем название поля точечного shape-файла, в котором  хранятся атрибуты. В скрипте это отмечено звездочками:</p>
	        <p align="center"><img src="/images/pnt-grid-gen-04.jpg" width="365" height="65" /></p>
	        <p>
          <!-- Конец текста статьи, начало ссылок -->
        5.	Запускаем скрипт. В результате его работы в атрибутивной таблице полигональной темы появится новое поле, содержащее среднее значение атрибута точечного shape-файла для каждой ячейки полигональной координатной сетки. Это и есть новое атрибутивное значение каждой точки нового генерализованного shape-файла. Если ни одной точки не «попало» в полигон значение будет равно нулю.</p>
	        <p><strong><img src="/images/3.gif" alt="3" width="33" height="41" align="left" /><a name="03" id="03"></a>Создание новой генерализованной точечной темы </strong></p>
	        <p>Для получения нового точечного файла, который будет представлять генерализованный результат из полигонального, полученного на предыдущем этапе, необходимо рассчитать координаты центроидов каждого полигона  сетки, что и будет являться координатами точек нового шейпа. Далее, процесс организован так же как и <a href="txt2points.html">импорт таблиц в виде текстовых данных с разделителем</a>, только в качестве таблицы используется dbf-файл полигональной темы.</p>
	        <p>По шагам:  </p>
	        <ol>
	          <li>Создаем два новых поля, в которых будет храниться центроид каждого полигона (ячейки сетки) </li>
	          <li>Расчет центроидов полигонов: <a href="http://gis-lab.info/qa/shapecalc.html">http://gis-lab.info/qa/shapecalc.html</a></li>
	          <li>Экспортируем обновленную  атрибутивную таблицу: открываем таблицу, File\Export…\</li>
	          <li>Загружаем отдельно эту таблицу  через пункт Tables менеджера проекта. </li>
	          <li>Переходим  в Вид</li>
	          <li>Создаем новую точечную тему: View\Add event theme, выбираем поля соответствующие X и Y, созданные в процессе расчета центроидов. </li>
	          <li>Если необходимо, удаляем лишние поля атрибутивной таблицы и  строки с нулевыми значениями.</li>
	          <li>Сохраняем как новую тему: Theme\Convert to Shapefile</li>
            </ol>
	        <p class="discuss">
				<span><!--#include virtual="/scripts/forum-comments-num.php?i=2167"--></span>
			</p>
			<div class="links">
			<h2>Ссылки по теме</h2>
			<ul>
               <li><a href="txt2points.html">Импорт  табличных данных с координатной привязкой в shape-файл (Arcview GIS)</a></li>
			</ul>
			</div>
<!--Contents end-->
<!--#include virtual="/scripts/date.php" -->
<p class="status"><span>Дата создания: 04.04.2008
<br>Автор(ы): <a href="/forum/memberlist.php?mode=viewprofile&u=6732" target="_blank">Евгений Лазарев</a></span></p>
<!--#include virtual="/inc/footer2.php" -->
