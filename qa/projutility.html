<!--#include virtual="/inc/header02.txt" -->
<title>GIS-Lab: Использование Arcview Projection Utility для перевода данных из одной системы координат в другую</title>
<!--#include virtual="/inc/header2.txt" -->
<div class="cont">
<div class="col1">

<ul class="path">
   <li class="first"><a href="/">Главная</a></li>
   <li><a href="/qa.html">Вопросы и ответы</a></li>
</ul>
<!--Contents start-->
<h1>Использование Arcview Projection Utility для перевода данных из одной системы координат в другую</h1>
<p class="ann">Перевод из одной системы координат в другую методами Arcview</p>
<p class="discuss discuss_top"><span><!--#include virtual="/scripts/forum-comments-num.php?i=854"--></span></p>
<p><strong>Задача</strong>: перевести ваши данные из одной системы координат в другую.</p>
<p>Один из удобных способов сделать это, не выходя из Arcview GIS - использовать расширение Arcview Projection Utility. С помощью этого расширения для Arcview GIS можно достаточно просто переводить данные:</p>
            <ol>
              <li><a href="#geogeo">Из одной географической системы координат в другую географическую систему координат</a></li>
              <li><a href="#geoprj">Из географической системы координат в прямоугольную (спроектированную) систему координат</a></li>
              <li><a href="#prjgeo">Из прямоугольной (спроектированной) системы координат в географическую систему координат</a></li>
              <li> Из одной прямоугольной (спроектированной) системы координат в другую прямоугольную (спроектированную) систему координат.</li>
            </ol>
            <p>Для преобразований использующих смену географической системы координат (например WGS 1984 -&gt; Pulkovo 1942 или Pulkovo 1942 -&gt; WGS 1984) необходимо использовать Projection Utility идущий в поставке Arcview GIS начиная с версии 3.2а. </p>
            <p><a name="start"></a>Для начала, независимо от типа преобразования, необходимо сделать следующие общие шаги:</p>
            <p>1. Запустить Arcview с созданием чистого проекта</p>
            <p>2. Включить расширение (extension) Projection Utility. <strong>File\Extensions...</strong></p>
            <p align="center"><strong><img src="/images/projutility-01.gif" width="376" height="305"></strong></p>
            <p>3. Запустить Projection Utility Wizard, появится специальное диалоговое окно, которое проведет вас через весь процесс перепроектирования. <strong>File\Arcview Projection Utility...</strong></p>
            <p>4. В открывшемся окне, с помощью кнопки Browse... указать одну или несколько тем, которые вам необходимо перепроектировать. Обычно, если вы в основном работаете в Arcview GIS, в колонке Coordinate System (система координат) будет стоять значение unknown, то есть описание системы координат для данного shape-файла недоступно. Это означает, что вам нужно будет задать не только конечную систему координат, но и исходную, иначе преобразование будет невозможно. Если так или иначе система координат ваших данных специальным образом определена (это можно установить через наличие файла с расширением <strong>prj</strong>, то необходимо будет указать только конечную систему координат.</p>
            <p>В процессе указания исходной системы координат данных, будет предложено создать файл(ы) prj для них, чтобы процесс указания исходной СК не надо было повторять каждый раз. </p>
            <p align="center"><strong><img src="/images/projutility-02.gif" width="483" height="368"></strong></p>
            <p>Допустим система координат ваших данных не определена. Рассмотрим каждый вариант перепроектирования отдельно, начитая со следующего после загрузки данных этапа:</p>
            <p align="left"><img src="/images/1.gif" width="33" height="41" align="left"> <strong><a name="geogeo"></a>Из одной географической системы координат в другую географическую систему координат</strong></p>
            <p align="left">Для определения исходной системы координат необходимо произвести следующие шаги. Для примера мы используем преобразование из системы координат Pulkovo 1942 (СК42) в систему координат WGS 1984. Если вы хотите произвести обратное преобразование, то пункт Datum для выбранной системы координат WGS 1984 будет недоступен. </p>
            <p align="left">1. Coordinate System Type - Geographic</p>
            <p>2. Name - GCS_Pulkovo_1942</p>
            <p>3. Units - Degree</p>
            <p>Show advanced options (показать дополнительные настройки) </p>
            <p>4. Datum. Geographic Transformation: Pulkovo_1942_To_WGS_1984</p>
            <p>5. Next </p>
            <p align="center"><strong><img src="/images/projutility-03.gif" width="483" height="368"></strong></p>
            <p>После нажатия Next, будет предложено сохранить созданное описание системы координат данных в виде prj-файла, имеет смысл это сделать. Однако, если планируется несколько раз перепроектировать одни и те же данные в разные системы координат, например, если исходная система координат не известна (то есть методом перебора), то сохранять в prj-файл имеет смысл только точно известную, иначе потом придется удалять этот файл с диска, чтобы окно задания начальной системы снова было доступно.</p>
            <p>Зададим конечную систему координат:</p>
            <p align="left">1. Coordinate System Type - Geographic</p>
            <p>2. Name - GCS_WGS_1984</p>
            <p>3. Units - Degree</p>
            <p>4. Next </p>

            <p align="center"><strong><img src="/images/projutility-04.gif" width="483" height="368"></strong></p>
            <p>После нажатия Next &gt; и перехода к следующему шагу будет предложено указать имя нового шейп-файла а также просмотреть сводный список параметров трансформации. </p>
            <p><img src="/images/2.gif" alt="2" width="33" height="41" align="left"> <strong><a name="geoprj" id="geoprj"></a>Из  географической системы координат в спроектированную систему координат</strong></p>
            <p>Для начала работы повторите шаги, указанные в <a href="#start">начале статьи.</a></p>
            <p align="left">Для определения исходной системы координат необходимо произвести следующие шаги. Для примера мы используем преобразование из системы координат Pulkovo 1942 (СК42) в систему координат WGS 1984. Если вы хотите произвести обратное преобразование, то пункт Datum для выбранной системы координат WGS 1984 будет недоступен. </p>
            <p align="left">1. Coordinate System Type - Geographic</p>
            <p>2. Name - GCS_Pulkovo_1942</p>
            <p>3. Units - Degree</p>
            <p>Show advanced options (показать дополнительные настройки) </p>
            <p>4. Datum. Geographic Transformation: Pulkovo_1942_To_WGS_1984<br>
            Если вы указали в Name: GCS_WGS_1984 этот пункт будет недоступен. </p>
            <p>5. Next </p>
            <p align="center"><strong><img src="/images/projutility-03.gif" width="483" height="368"></strong></p>
            <p>После нажатия Next, будет предложено сохранить созданное описание системы координат данных в виде prj-файла, имеет смысл это сделать. Однако, если планируется несколько раз перепроектировать одни и те же данные в разные системы координат, например, если исходная система координат не известна (то есть методом перебора), то сохранять в prj-файл имеет смысл если точно известно известно, что она правильная, иначе потом придется удалять этот файл с диска, чтобы окно задания начальной системы снова было доступно.</p>
            <p>Зададим конечную систему координат:</p>
            <p align="left">1. Coordinate System Type - Projected </p>
            <p>2. Name - если в списке есть нужная вам спроектированная система координат, можно ее выбрать, чтобы посмотреть подробнее ее параметры, нужно включить Show Advanced Options и перейти на закладку Parameters. При этом, для некоторых систем координат, например UTM, выбранных из списка,  изменить географическую систему координат на другую не получится. </p>
            <p>3. Units - Meters </p>
            <p>4. Next </p>
            <p align="center"><strong><img src="/images/projutility-05.gif" width="483" height="368"></strong></p>
            <p>Если нужной вам системы координат в выпадающем списке нет или вам нужно указать другую географическю систему координат, отличающуюся от прошитой, необходимо, в пункте Name выбрать самое последнее значение - Custom, включить Show Advanced Options и перейти на закладку Parameters, где ввести нужные параметры.</p>
            <p>Например, для спроектированной системы координат Гаусса-Крюгера, зоны 10, нужно ввести следующие параметры:</p>
            <p align="center"><strong><img src="/images/projutility-06.gif" alt="гк" width="483" height="368"></strong> </p>
            <p>После нажатия Next &gt; и перехода к следующему шагу будет предложено указать имя нового шейп-файла а также просмотреть сводный список параметров трансформации. </p>
            <p>Другой, более простой способ быстро перевести шейп-файл с данными в географической системе координат в спроектированную:</p>
            <ol>
              <li>Загрузить тему в  географической системе координат в вид Arcview</li>
              <li>Задать нужную проекцию View\Properites\Projection</li>
              <li>Сохранить тему под новым именем Theme\Convert to shapefile. На вопрос сохранять ли тему в  единицах спроектированной системы координат нужно ответить утвердительно.<br>
              <strong><img src="/images/projutility-07.gif" alt="гк" width="381" height="135"></strong></li>
              <li>После сохранения, вы получите новую тему, система координат которой и единицы измерения будут новыми.  </li>
            </ol>
            <p>С помощью этого метода нельзя осуществить изменение географической системы координат, она всегда будет оставаться такой же, как у исходной темы, но при этом проекционное преобразование может осуществляться.</p>
            <p>Например, таким образом, можно перевести набор точек полученных с GPS и находящихся в географической системе координат  WGS 1984, в спроектированную систему координат UTM, зона 36 (<strong>WGS 1984 - &gt; UTM, зона 36/WGS 1984</strong>), которая будет базироваться на той же географической системе координат. Если ее нужно сменить, т.е. осуществить преобразование <strong>WGS 1984 - &gt; GK, зона 6/Pulkovo 1942</strong>, этим методом пользоваться нельзя, а нужно пользоваться методом <a href="#geoprj">описанным выше</a>. </p>
            <p align="left"><img src="/images/3.gif" alt="3" width="33" height="41" align="left" /> <strong><a name="prjgeo" id="prjgeo"></a>Из прямоугольной системы координат в географическую систему координат</strong></p>
            <p align="left">Если в наборе данных нет prj-файла, требуется тем или иным способом установить проекцию и систему координат набора данных, который надо перепроектировать.</p>
            <p align="left">1. Указать систему координат, например для системы координат, у которой нет готового набора параметров, нужно выбрать Custom:</p>
            <p align="left"><strong><img src="/images/projutility-08.gif" alt="гк" width="483" height="368" /></strong> </p>
            <p align="left">И переключиться на вкладку Parameters (Параметры), где внимательно ввести настройки проекции и системы координат: </p>
            <p><strong><img src="/images/projutility-09.gif" alt="гк" width="483" height="368" /></strong></p>
            <p>3. На вопрос сохранения описания системы координат лучше ответить утвердительно, чтобы был создан prj-файл, который содержит все настройки и который можно использовать в дальнейшим. Стоит помнить, что если при вводе настроект допущена ошибка, то файл prj все равно будет создан и его необходимо будет удалить вручную для ввода новых настроек. </p>
            <p>4. Ввести конечную - географическую систему координат, обычно она должна быть равна исходной географической системе координат (само собой без ввода информации о проекции и параметров).</p>
            <p><strong><img src="/images/projutility-10.gif" alt="гк" width="483" height="368" /></strong></p>
            <p>5. Ввести имя выходного shape-файла, проверить настройки и произвести операцию трансформирования. </p>
            <p class="discuss">
				<span><!--#include virtual="/scripts/forum-comments-num.php?i=854"--></span>
			</p>
			<div class="links">
			<h2>Ссылки по теме</h2>
			<ul>
               <li><a href="proj-sk-faq.html">Часто задаваемые вопросы по координатам, проекциям, системам координат</a></li>
               <li><a href="/docs/giscourse/08-coords.html">Онлайн-курс &quot;Введение в геоинформационные системы&quot;, глава 8</a></li>
			</ul>
			</div>
<!--Contents end-->
<!--#include virtual="/scripts/date.php" -->
<p class="status"><span>Дата создания: 11.02.2006
<br>Автор(ы): <a href="/forum/memberlist.php?mode=viewprofile&u=2" target="_blank">Максим Дубинин</a></span></p>
<!--#include virtual="/inc/footer2.php" -->