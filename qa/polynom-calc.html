<!--#include virtual="/inc/header02.txt" -->
<title>GIS-Lab: Полиномиальные преобразования - математика</title>
<!--#include virtual="/inc/header2.txt" -->
<!--Contents start-->
<div class="cont">
<div class="col1">

<ul class="path">
   <li class="first"><a href="/">Главная</a></li>
   <li><a href="/qa.html">Вопросы и ответы</a></li>
</ul>
<h1>Полиномиальные преобразования - математика </h1>
            <p class="ann">Математические выкладки решения задачи, применяемой при привязке данных</p>
            <p class="discuss discuss_top"><span><!--#include virtual="/scripts/forum-comments-num.php?i=2049"--></span></p>
            <p><strong>Введение</strong></p>
            <p>При операции географической привязки данных, то есть перевода данных из локальной системы координат в географическую или прямоугольную, сам пересчет обычно происходит &quot;за сценой&quot; и его особенности часто понятны пользователю только интуитивно. Эта статья показывает полный алгоритм пересчета и может быть использована для реализации алгоритмов привязки данных в своем ПО и просто для более полного понимания того, что происходит на самом деле. Для менее насыщенного формулами описания рекомендуем ознакомиться со статьей &quot;<a href="polynom.html">Полиномиальные преобразования</a>&quot;. Указанная статья, хотя и содержит формулы преобразований, не показывает детальной их реализации, однако представляет важную информацию о  применении данных преобразований на практике. Для того, чтобы посмотреть примеры реализации подобных преобразований, рекомендуем ознакомиться со статьей &quot;<a href="polynom-calc-examples.html">Полиномиальные преобразования - примеры реализации</a>&quot;, которая показывает примеры реализации на языке Delphi, R, Excel и Mathcad. </p>
            <p>Так как одно из наиболее часто используемых преобразований при привязки - полиномиальное преобразование 2-й степени, мы иллюстрируем наши расчеты на его примере. Вычисления для <a href="affine-math.html">аффинного преобразования</a> (оно же полиномиальное преобразование 1-й степени) выполняются аналогичным образом, с меньшим количеством коэффициентов.</p>
            <p>Данная статья иллюстрирует случай, когда количество точек привязки равно минимально необходимому, в данном случае n = 6. В случае если точек больше и необходимо так же вычислить ошибку, математика будет несколько другая. Мы планируем осветить этот вопрос в отдельной статье. </p>
            <p><strong><a name="01" id="01"></a>Математика</strong></p>
            <p>Решение задачи трансформации сводится к нахождению коэффициентов системы уравнений. Напомним, что в случае полиномиального преобразования 2-й степени, система уравнений выглядит следующим образом:</p>
	        <p align="center"><img src="/images/polynom-calc-01.gif" alt="система уравнений" width="295" height="65" /> </p>
	        <p>где:</p>
	        <p>x,y - координаты в исходной системе координат (известны) <br />
	          x<sup>'</sup>,y<sup>'</sup> - координаты в конечной системе координат (известны)<br />
            a<sub>0-5</sub>,b<sub>0-5</sub> - коэффициенты (неизвестны)</p>
	        <p>Таким образом, имея 12 неизвестных, нам понадобится 6 пар точек с известными координатами до и после трансформации (x1,y1; x2,y2; x3,y3; x4,y4; x5,y5; x6,y6 и x1',y1'; x2',y2'; x3',y3'; x4',y4'; x5',y5'; x6',y6'):</p>
	        <p align="center"><img src="/images/polynom-calc-02.gif" alt="система уравнений" width="347" height="159" /></p>
	        <p>Или, перегруппируя этот набор уравнений по x и y:</p>
	        <p align="center"><img src="/images/polynom-calc-03.gif" alt="система уравнений" width="335" height="171" /> </p>
	        <p>Каждая группа используется соответственно для получения коэффициентов a<sub>i</sub> и b<sub>i</sub>. В матричной форме это выглядит следующим образом, для a и b:</p>
	        <p align="center"><img src="/images/polynom-calc-04.gif" alt="система уравнений" width="313" height="171" /></p>
	        <p align="center"> <img src="/images/polynom-calc-05.gif" alt="система уравнений" width="307" height="163" /></p>
	        <p>Для получение коэффициентов, каждая часть уравнения должна быть умножена на обратную матрицу с коэффициентами, например для a:</p>
	        <p align="center"><img src="/images/polynom-calc-06.gif" alt="система уравнений" width="459" height="310" /> </p>
	        <p>Таким образом в матричной форме, вычисление коэффициентов:</p>
	        <p align="center"><img src="/images/polynom-calc-07.gif" alt="система уравнений" width="288" height="317" /> </p>
	        <p>Необходимо иметь в виду, что для обратного преобразования из x,y в x<sup>'</sup>,y<sup>'</sup> матрица коэффициентов будет выражаться несколько по другому и сами коэффициенты будут другими:</p>
	        <p align="center"><img src="/images/polynom-calc-08.gif" alt="система уравнений" width="317" height="324" /> </p>
	        <p>Таким образом, для решения данной системы, наше программное обеспечение должно уметь производить операции получения обратной матрицы и умножения матриц.
	          <!-- Второй раздел -->
</p>
	        <p>Полученный набор коэффициентов подставляется потом в исходные уравнения и задача получения новых координат решается для каждого пиксела исходного растра, получая таким образом результат в выходной системе координат.</p>
	        <p class="discuss">
				<span><!--#include virtual="/scripts/forum-comments-num.php?i=2049"--></span>
			</p>
			<div class="links">
			<h2>Ссылки по теме</h2>
			<ul>
               <li><a href="polynom.html">Полиномиальные преобразования</a></li>
			   <li><a href="rmse.html">Среднеквадратичная ошибка (RMSE)</a></li>
			   <li><a href="polynom-calc-examples.html">Полиномиальные преобразования - примеры реализации</a></li>
			</ul>
			</div>
<!--Contents end-->
<!--#include virtual="/scripts/date.php" -->
<p class="status"><span>Дата создания: 02.03.2008
<br>Автор(ы): <a href="/forum/memberlist.php?mode=viewprofile&u=2" target="_blank">Максим Дубинин</a></span></p>
<!--#include virtual="/inc/footer2.php" -->
