<!--#include virtual="/inc/header02.txt" -->
<title>GIS-Lab: Использование скриптов wrapper'ов для сокращения адресной строки Mapserver</title>
<!--#include virtual="/inc/header2.txt" -->
<!--Contents start-->
<div class="cont">
<div class="col1">

<ul class="path">
   <li class="first"><a href="/">Главная</a></li>
   <li><a href="/qa.html">Вопросы и ответы</a></li>
</ul>
<h1>Использование скриптов wrapper'ов для сокращения адресной строки Mapserver</h1>
<p class="ann">Краткая аннотация</p>
            <p>Исходно длинно, некрасиво и небезопасно   <a href="http://gis-lab.info/cgi-bin/mapserv?map=/usr/local/www/gis-lab/data/programs/mapserver/dynamic/example2-1.map&amp;layer=states_poly&amp;layer=states_line&amp;mode=browse" target="_blank">&gt;&gt;&gt;</a> </p>
            <div align="center">
              <pre class="preoverflowx">
http://gis-lab.info/cgi-bin/mapserv?map=/usr/local/www/gis-lab/data/programs/mapserver/dynamic/example2-1.map&amp;layer=states_poly&amp;layer=states_line&amp;mode=browse</pre>
            </div>
            <p>Используем скрипт wrapper'а, следующего содержания: </p>
            <div align="center"><pre class="preoverflowx">
#!/bin/sh
MAPSERV="/usr/local/www/gis-lab/data/cgi-bin/mapserv"
MAPFILE="/usr/local/www/gis-lab/data/programs/mapserver/dynamic/example2-1.map"
if [ "${REQUEST_METHOD}" = "GET" ]; then
  if [ -z "${QUERY_STRING}" ]; then
    QUERY_STRING="map=${MAPFILE}"
  else
    QUERY_STRING="map=${MAPFILE}&${QUERY_STRING}"
  fi
  exec ${MAPSERV}
else
  echo "Sorry, I only understand GET requests."
fi
exit 1
# End of Script</pre></div>
            <p>&nbsp;</p>
            <pre>http://gis-lab.info/cgi-bin/test?layer=states_poly&amp;layer=states_line&amp;mode=browse </pre>
            <p>&nbsp;</p>
            <p>&nbsp;</p>
            <p class="discuss">
				<span><!--#include virtual="/scripts/forum-comments-num.php?i=852"--></span>
			</p>
			<div class="links">
			<h2>Ссылки по теме</h2>
			<ul>
               <li><a href="modislandprod.html">Ссылка на дополнительный источник информации внутренняя</a></li>
               <li><a href="http://lpdaac.usgs.gov/landdaac/tools/modis/about.asp" target="_blank" class="external">Ссылка на дополнительный источник информации внешняя</a></li>
			</ul>
			</div>
   			<!--#include virtual="/scripts/date.php" -->
<!--Contents end-->
<!--#include virtual="/inc/footer2.php" -->
