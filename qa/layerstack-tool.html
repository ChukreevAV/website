<!--#include virtual="/inc/header02.txt" -->
<title>GIS-Lab: Пакетная обработка данных ETM+ в Layerstack/ERDAS</title>
<!--#include virtual="/inc/header2.txt" -->
<!--Contents start-->
<div class="cont">
<div class="col1">

<ul class="path">
	<li class="first"><a href="/">Главная</a></li>
	<li><a href="/qa.html">Вопросы и ответы</a></li>
</ul>

<h1>Пакетная обработка данных ETM+ в  Layerstack/ERDAS</h1>
<p class="ann">Описание работы с инструментом генерации пакетного файла для склейки и перепроецированния данных.</p>
<p class="discuss discuss_top"><span><!--#include virtual="/scripts/forum-comments-num.php?i=2696"--></span></p>
<p>В связи с большим количеством свободно доступных данных Landsat, становится актуальным вопрос пакетного создания композитов и перепроецирования. Для облегчения этих зада служит инструмент layerstack, главная задача которого - создание по указанному каталогу пакетного файла для ERDAS IMAGINE, который в свою очередь выполняет эти две задачи. </p>
<p><strong>Подготовка данных для обработки</strong></p>
<p>Распаковываем каждую сцену в отдельный каталог внутри общего. Названия каталогов не имеют значения, для удобства можно использовать ID сцены (например, LE71450082008249SGS00 для архива LE71450082008249SGS00.tar.gz. Это придется делать в два этапа, так как получаемые через интерфейс Glovis сцены упакованы дважды, что обеспечивает их сравнительно небольшой объем. Если стоит задача обработки только 6 30-м каналов, каналы 6.1, 6.2 и 8 можно не распаковывать.</p>
<p align="center"><img src="/images/layerstack-tool-01.gif" width="427" height="203"></p>
<p><strong>  Работа с layerstack</strong></p>
<p> Загружаем <a href="/programs/vb/layerstack.zip">программу</a>. Распаковываем загруженный архив в отдельный каталог, запускаем layerstack.exe. Примечание: программа требует предустановленного набора <a href="../other/libraries.zip">библиотек</a>.</p>
<p align="center"><img src="/images/layerstack-tool-02.gif" width="318" height="329"></p>
<p>  Указываем входной (Start Dir) и выходной (Dest Dir) каталоги. Входной каталог является корневым для каталогов с распакованными сценами, созданные ранее). </p>
<p>Флажок «Set Null Value» нужно установить только в том случае, если нужно задать новое значение для Nodata. </p>
<p>Флажок Exclude bands 6 and 8 нужно снять только если нужно склеить каналы с разным разрешением (если, конечно, распакованы все каналы, а не только 30-метровые).  </p>
<p>Флажок Append to existing file нужно установить, если уже создавался batch-файл для склейки каналов и есть необходимость добавить в него новые сцены для обработки.</p>
<p><strong>Пакетное склеивание сцен</strong></p>
<p>В случае необходимости создания только композитов, пункт Project files включать не нужно. В этом случае будут созданы виртуальные стэки и они будут превращены ERDAS в реальные, без перепроецирования. </p>
<p>После настройки исходного и конечного каталога нужно нажать на кнопку Start (bcf), после чего будет предложено сохранить пакетный файл в нужное место (расположение файла может быть любым).</p>
<p>На этом работа с layerstack завершена, утилиту можно закрыть и открыть ERDAS IMAGINE.  В меню Session выбираем Open Batch Command File… и открываем только что созданный файл .bcf. Т.к. модифицировать его не нужно, можно сразу нажать кнопку Finish. Результаты работы будут сохранены в выходной каталог. </p>
<p><strong> Пакетное перепроектирование сцен</strong></p>
<p>Если помимо создания композитов каналов, их также необходимо перепроецировать, включаем область Project files. </p>
<p>В строке Proj.name указываем путь к пользовательскому файлу проекций для Erdas (например - C:\Documents and Settings\Administrator\.imagineXXX\projections\[имя файла проекции].plb (файлы с некоторыми проекциями   России для Erdas - <a href="../other/projections-erdas9.zip">здесь</a>). После указания пути станет активен список проекций в файле, в нем выбрать нужную проекцию. </p>
<p>Разрешение выходных данных указывается в поле  Resolution (обычно 30 м).</p>
<p align="center"><img src="/images/layerstack-tool-04.gif" width="318" height="329"></p>
<p>  Нажатием кнопки «Stack and Project» создаем batch-файл .bcf  (будет предложено выбрать место его сохранения). </p>
<p>Запускаем Erdas IMAGINE.  В меню Session выбираем Open Batch Command File… и открываем только что созданный файл .bcf. Так как модифицировать его не нужно, можно сразу нажать кнопку Finish. </p>
<p class="discuss">
           <span><!--#include virtual="/scripts/forum-comments-num.php?i=2696"--></span>
		</p>
            <div class="links">
				<h2>Ссылки по теме</h2>
					<ul>
                        <li><a href="/qa/layerstack.html">Объединение многоканальных данных в единый файл</a></li>
					  </ul>
			</div>
<!--Contents end-->
<!--#include virtual="/scripts/date.php" -->
<p class="status"><span>Дата создания: 11.01.2009
<br>Автор(ы): <a href="/forum/memberlist.php?mode=viewprofile&u=2" target="_blank">Максим Дубинин</a></span></p>
<!--#include virtual="/inc/footer2.php" -->
