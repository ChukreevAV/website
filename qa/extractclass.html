<!--#include virtual="/inc/header02.txt" -->
<title>GIS-Lab: Выделение класса(ов) из серии одинаково индексированных растров</title>
<!--#include virtual="/inc/header2.txt" -->
<div class="cont">
<div class="col1">

<ul class="path">
   <li class="first"><a href="/">Главная</a></li>
   <li><a href="/qa.html">Вопросы и ответы</a></li>
</ul>
<!--Contents start-->
<h1>Выделение класса(ов) из серии одинаково индексированных растров</h1>
<p class="ann">Выделение класса в Arcinfo Workstation и описание работы программы extract-class</p>
<p class="discuss discuss_top"><span><!--#include virtual="/scripts/forum-comments-num.php?i=184"--></span></p>
            <p><b>Задача</b>: Выделить один или несколько классов
              из нескольких одинаково индексированных растров. Например, класс
              лесов из одинаково индексированных (цветоделенных по одной легенде)
              топокарт.</p>
            <p>Главным условием успешного выполнения является одинаковая
              индексация растров (т.е. универсальная легенда), помимо возможности
              использования таких расширений, как <b><a href="trlegend.html">TRLegend</a></b>,
              такая индексация позволяет производить в автоматическом режиме операции
              над классами, одновременно для неограниченного количества растров.</p>
            <p>Сама по себе процедура достаточно проста, для Arcinfo
              она выглядит так (выделенным показаны команды, которые необходимо набрать в Arcinfo Workstation):</p>
            <ol>
              <li>Конвертация растра в GRID<br />
                <b>imagegrid L53-10 L53-10</b></li>
              <li>Переход в модуль GRID<br />
                <strong>grid</strong></li>
              <li> Переклассификация полученного GRID'а<br />
                <b>L53-10r = reclass(L53-10, remap, nodata)</b><br />
                remap - файл таблицы переклассификации созданный по определенному
                шаблону, например<br />
                /*Присвоить индексу 0 и 1 значение 0<br />
                0 1 : 0<br />
                /*Присвоить индексу 2 значение 2<br />
                2 : 2<br />
                3 4 : 1<br />
                /*Присвоить индексам с 5 по 16 значение 0<br />
                5 16 : 0</li>
              <li> Установка значения NODATA (по умолчанию отображается
                как прозрачный класс в Arcview 3.x, необязательный этап)<br />
                <b>L53-10z = setnull(L53-10r &lt;= 0, L53-10r)</b></li>
              <li> Склейка полученных GRID'ов в единый (необязательный
                этап)<br />
                <b>result = merge(L53-10z,L53-11z)</b></li>
            </ol>
            <p>Небольшая программа <a href="/programs/vb/extract-class.zip">Extract-Class</a> позволяет автоматизировать этот процесс, ей достаточно показать
              директорию где лежат файлы TIF или GIS, из которых вы хотите выделить
              класс и она создаст sml-файл (файл набора команд для Arcinfo
              Workstation), который нужно будет
              запустить в Arcinfo. Так же вам понадобится создать свою таблицу
              переклассификации так как показано выше (или воспользоваться помощью
              программы, чтобы она создала образец).</p>
            <p align="center"><img src="/images/extractclass1.gif" width="207" height="153" /></p>
            <p>У программы есть следующие настройки:</p>
            <p><b>Convert zeroes to NODATA</b> - Нули из таблицы
              обычно показываться как прозрачный класс при загрузке растров в Arcview 3.x. Усли вам нужно сохранить нулевые
              значения, снимите флажок.</p>
            <p><b>Remove intermediate grids</b> - Удалять промежуточные
              GRID'ы. В процессе работы Arcinfo Workstation создается некоторое
              количество промежуточных файлов, которые потом ею же и удаляются.
              Например результирующие GRID'ы склеиваются в один, а сами удаляются.
              Если вам необходимо их оставить - снимите флажок</p>
            <p><b>Create example remap table</b> - Создать образец
              таблицы переклассификации, который можно использовать для начала.
              Файл таблицы переклассификации называется remap, расположен в той
              же папке что и входные растры. Если он уже существует, то программа
              не будет его заменять и выдаст предупреждение.</p>
            <p>Запустить полученный sml-файл на исполнение можно
              так:</p>
            <p>1. Задать рабочую директорию, имя директории где лежат
              все исходные файлы и куда программа помещает созданный файл extractclass.sml,
              далее, после запуска Arcinfo Workstation:</p>
            <pre>&amp;workspace имя_директории</pre>
            <p>2. Запустить пакетный файл, файл должен лежать там
              же где и HGT файлы</p>
            <pre>&amp;run !process-srtm.sml</pre>
            <p>Результатом работы данного пакета является одно покрытие
              в формате GRID (result).</p>
            <p class="discuss">
							<span><!--#include virtual="/scripts/forum-comments-num.php?i=184"--></span>
			</p>
<!--Contents end-->
<!--#include virtual="/scripts/date.php" -->
<p class="status"><span>Дата создания: 07.10.2004
<br>Автор(ы): <a href="/forum/memberlist.php?mode=viewprofile&u=2" target="_blank">Максим Дубинин</a></span></p>
<!--#include virtual="/inc/footer2.php" -->
