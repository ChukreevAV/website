<!--#include virtual="/inc/header02.txt" -->
<title>GIS-Lab: Экспорт вида или макета карты в растр высокого разрешения</title>
<!--#include virtual="/inc/header2.txt" -->
<div class="cont">
<div class="col1">

<ul class="path">
   <li class="first"><a href="/">Главная</a></li>
   <li><a href="/qa.html">Вопросы и ответы</a></li>
</ul>
<!--Contents start-->
<h1>Экспорт вида или макета карты в растр высокого разрешения</h1>
<p class="ann">Описание процедуры экспорта с сохранением качества</p>
<p class="discuss discuss_top"><span><!--#include virtual="/scripts/forum-comments-num.php?i=4085"--></span></p>
<p>Очень часто встает задача сделать из карты представленной в Arcview в
              виде (View) или макета карты (Layout) растровый файл нужного (обычно большого
              300-600 dpi) разрешения, например для дальнейшей печати. Существует несколько
              вариантов решения этой задачи.</p>
            <p>*все перечисленные далее особенности экспорта касаются
              только Arcview 3.x</p>
            <p><img src="../images/1.gif" width="33" height="41" align="left" alt="1" /> Экспорт
              в один из растровых форматов JPG, BMP. </p>
            <p>Вариант подходит для быстрого вывода картинки для просмотра или Web,
              но не подходит для серьезной печати. JPG во-первых не всегда позволяет
              экспортировать с большим разрешением если количество пикселов в результирующем
              изображении превышает 20 млн пикселов, иногда ошибка <b>segmentation violation</b> выдается на разрешениях больше 300-600 dpi независимо от кол-ва пикселов
              (<a href="http://forums.esri.com/thread.asp?c=3&amp;f=38&amp;t=85906&amp;mc=14">http://forums.esri.com/thread.asp?c=3&amp;f=38&amp;t=85906&amp;mc=14</a>),
              во-вторых JPG - это формат со сжатием, что также не всегда приемлемо.
              BMP экспортируется как файл в индексированных цветах, при этом основательно
              их, как правило, исказив, что тоже, как правило, не допустимо.</p>
            <p align="center"><img src="../images/export2raster1.jpg" width="405" height="193" /></p>
            <p align="center">Искажение цветовой информации при экспорте в BMP (Windows
              Bitmap), слева исходное изображение, справа экспортированное в формат
              BMP в Arcview 3.2a</p>
            <p>И тот и другой форматы плохо поддерживают экспорт изображений на которых
              присутствуют прозрачные заливки (применение векторных заливок из палитр
              hatch.avp или carto.avp частично решает проблему)</p>
            <p align="center"><img src="../images/export2raster2.jpg" width="600" height="272" /></p>
            <p align="center">Искажение прозрачных заливок при экспорте в простой графический
              формат (JPG, BMP), слева исходное изображение (так как оно выглядит в Arcview GIS), справа экспортированное.</p>
            <p><br />
              <img src="../images/2.gif" width="33" height="41" align="left" />Экспорт
              в векторный формат EPS (Level 1 PostScript, драйвер Arcview Basic) или
              PostScript New (Level 2 PostScript, Arcview Enhanced). </p>
            <p>Экспорт в PostScript Level 2 возможен с любым разрешением, экспорт в
              формат EPS осуществляется с разрешением 300 dpi. Недостатком экспорта
              в формат EPS (Level 1) является также невозможность экспорта тем Image
              Analysis. </p>
            <p>После экспорта в один из этих форматов необходимо полученный файл растеризовать,
              то есть перевести векторный EPS в один из простых растровых форматов,
              более подходящих для печати (например TIFF). Растеризацию можно проводить
              несколькими способами (отличающимися главным образом скоростью):</p>
            <blockquote>
              <p>2а. Растеризация в <b>Adobe Photoshop</b>. Photoshop растеризует EPS,
                PS файлы полученные путем экспорта из Arcview 3.x (до версии 6.0 необходимо
                выбрать в типах файла Generic EPS, иначе импорт таких файлов был невозможен).
                Способ надежный, но довольно долгий (особенно при включенном режиме
                Anti-Aliasing).</p>
              <p>2б. Растеризация с помощью <b>ArcPress</b>. ArcPress может быть установлен
                в виде специального модуля к Arcview или в комплекте с ArcInfo 8.x Workstation
                под именем &quot;Print&quot;. Растеризация гораздо более быстрая (иногда
                в десятки раз), недостаток заключается в необходимости наличия дополнительного
                модуля или ArcInfo</p>
              <p>2c. Растеризация с помощью <a href="http://www.cs.wisc.edu/%7Eghost/">GhostScript</a>. <b>GhostScript</b> - альтернативный Adobe интерпретатор языка PostScript.
                Очень быстрый и совершенно бесплатный, растеризует PS, EPS, PDF файлы.
                Для растеризации в режиме эмуляции MS-DOS например из PS в TIFF необходимо
                ввести такую команду:</p>
              <pre>gswin32c -dSAFER -dBATCH -dNOPAUSE -sDEVICE=tiff24nc -r300 -dcolorscreen
                -dUseCIEColor -dTextAlphaBits=4 -dGraphicsAlphaBits=4 -sOutputFile=outfile.tif
                infile.ps</pre>
              <p>где<br />
                gswin32c - название интерпретатора (включая путь, например c:\Tools\ghost\gs8.00\bin\)<br />
                r300 - разрешение с которым был напечатан файл<br />
                infile.ps - название исходного файла PS (включая путь)<br />
              outfile.tif - название конечного файла TIF (включая путь)</p>
            </blockquote>
            <p><img src="../images/3.gif" width="33" height="41" align="left" />Печать
              в файл PS с последующей растеризацией. </p>
            <p>Основные преимущество данного вида экспорта - экспорт растров любых размеров
              (до A0) если экспорт макета карты (layout) по каким-либо причинам невозможен
              (но установлен соответствующий драйвер принтера или Adobe Distiller),
              а также более корректная интерпретация сложных заливок (за счет поддержки
              PostScript 3 Adobe Distiller'ом). Результатом печати является файл PS,
              который также нуждается в растеризации (см. выше). Отличие файла PS от
              EPS заключается в наличие у последнего специального изображения уменьшенного
              разрешения (preview) позволяющего предварительно просматривать содержание
              файла не открывая его. Главное отличие этого метода от предыдущего - возможность
              вывода PostScript Level 3 файлов.</p>
            <p>Для печати в PostScript Level 3 должен быть установлен либо драйвер принтера
              поддерживающего PostScript (сам принтер при этом может отсутствовать),
              Adobe Distiller или драйвер для печати от Adobe (<a href="http://www.adobe.com/products/printerdrivers/main.html">http://www.adobe.com/products/printerdrivers/main.html</a>).</p>
            <p>*PostScript Level 2 файлы, как правило мало отличаются
              от Level 3, поэтому, возможно, вариант 2 с растеризацией в GhostScript
              является самым удобным и быстрым.</p>
<p class="discuss"><span><!--#include virtual="/scripts/forum-comments-num.php?i=4085"--></span></p>
<!--Contents end-->
<!--#include virtual="/scripts/date.php" -->
<p class="status"><span>Дата создания: 01.03.2003
<br>Автор(ы): <a href="/forum/memberlist.php?mode=viewprofile&u=2" target="_blank">Максим Дубинин</a></span></p>
<!--#include virtual="/inc/footer2.php" -->