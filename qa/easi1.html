<!--#include virtual="/inc/header02.txt" -->
<title>GIS-Lab: Основы макроязыка EASI (PCI Geomatica) - Управление данными</title>
<!--#include virtual="/inc/header2.txt" -->
<!--Contents start-->
<div class="cont">
<div class="col1">

<ul class="path">
   <li class="first"><a href="/">Главная</a></li>
   <li><a href="/qa.html">Вопросы и ответы</a></li>
</ul>
<h1>Основы макроязыка EASI (PCI Geomatica)<br/>Часть 1. Управление данными. </h1>
<p class="ann">Первая часть серии статей о языке EASI, основные команды языка по работе с растровыми данными</p>
<p class="discuss discuss_top"><span><!--#include virtual="/scripts/forum-comments-num.php?i=1660"--></span></p>
<p><strong>Содержание</strong></p>
            <ul>
              <li><a href="#intro">Введение</a></li>
              <li><a href="#begin">Основы работы с  языком EASI</a></li>
              <li><a href="#basics">Основы создания скриптов</a></li>
              <li><a href="#pcidsk">Особенности работы с файлами PCIDSK</a></li>
              <li><a href="#createfiles">Команды для создания файлов</a></li>
              <li><a href="#import">Команды импорта/экспорта растровых данных</a></li>
              <li><a href="#adddelete">Команды удаления/добавления каналов и сегментов</a></li>
              <li><a href="#exchange">Команды обмена данными между файлами PCIDSK</a></li>
              <li><a href="#struct">Команды чтения информации о структуре фалов PCIDSK</a></li>
            </ul>
            <p><strong><a name="intro" id="intro"></a>Введение</strong></p>
            <p>Критерии практической ценности различных систем обработки дистанционных данных постоянно меняются, особенно в России. Еще несколько лет назад основным критерием выбора программного обеспечения был набор функциональных возможностей и алгоритмов обработки данных. Однако в последние годы две тенденции: усиление контроля за лицензированием  ПО и лавинообразный рост количества доступных данных требуют изменить сложившиеся представления. Возможно, специалистам, ранее пользовавшимся дорогими (но не лицензированными) системами «высшего уровня», типа ERDAS Imagine, следует подумать о приобретении легальных копий более дешевых систем; а вместо ориентации на индивидуальную обработку снимков, подумать об автоматизации процесса обработки.</p>
            <p>Одной из достаточно дешевых полнофункциональных систем обработки изображения является канадская  PCI Geomatica (<a href="http://www.pcigeomatics.com" target="_blank" class="external">http://www.pcigeomatics.com</a>). Пользователям продуктов ESRI и ERDAS интерфейс программы может не понравиться своей необычностью и небольшим набором встроенных функций. Большинство операций обработки данных осуществляются с использованием конструктора моделей (Modeler) и встроенного макроязыка EASI. Однако именно опора на использование языка командной строки в Geomatica делает автоматизацию процессов чрезвычайно простой. Дополнительный значительный плюс языка EASI – возможность запуска интерпретатора из командной строки с именем файла скрипта в качестве параметра (easi r myscript.eas). Это позволяет с легкостью создавать длинные цепочки операций, в которых скрипты EASI могут создаваться и запускаться из других оболочек (<a href="/qa/perl.html">например, PERL</a>). Geomatica поставляется как для ОС Windows, так и для Linux, что позволяет использовать ее на мощных серверах обработки данных.</p>
            <p>В данной статье рассмотрены особенности работы с языком EASI и приведено описание основных команд по созданию и управлению данными. В следующих статьях мы остановимся на <a href="easi2.html">анализе данных</a>, <a href="easi3.html">привязке и работе с проекциями </a>и возможностях <a href="easi4.html">автоматизации</a>.</p>
            <p><strong><a name="begin" id="begin"></a>Основы работы с  языком EASI</strong></p>
            <p>Запуск и правила использования команд в языке EASI чрезвычайно простые. Интерпретатор запускается как из оболочки (панель задач Geomatica) так и из командной строки. Мы предлагаем по возможности использовать второй путь, не загромождая память компьютера интерфейсом оболочки системы. Итак, из рабочей директории набираем:</p>
            <pre>easi</pre>
            <p>Первое сообщение при запуске EASI из новой директории «отсутствует файл параметров!» Чтобы скопировать файл параметров в рабочую директорию, набираем</p>
			<pre>r copprm</pre>
            <p>В рабочей директории будет создан файл параметров PRM.PRM.</p>
            <p>Собственно, теперь можно выполнять команды. Для выполнения команд можно использовать три ключа, добавляемых перед именем команды:</p>
            <p> <strong>h</strong> (help) – вызов справки о команде <br />
              <strong>s</strong> (status) – вызов списка параметров команды<br />
              <strong>r</strong> (run) – запуск команды на выполнение</p>
            <p>Параметры команд вводятся до их запуска. Например:<br />
file=”new – имя файла «new.pix» (расширение собственных файлов PCI можно опускать всегда, когда нет файлов других типов но с тем же именем в той же директории)<br />
dbsz=10,10 – размер файла 10х10 пикселей<br />
dbnc=1,0,0,0 – 1 8-битный канал
<br />
dblayout=”file – разделять каналы по отдельным файлам
<br />
r cim – теперь запустим команду. Она будет использовать параметры, введенные заранее.</p>
            <p>Следует обратить внимание, что значения параметров сохраняются в созданном файле параметров PRM.PRM. Это может сильно сэкономить время для ввода параметров к последующим командам. Однако всегда будьте внимательны и проверяйте значения параметров перед запуском команд. Для проверки набираем:</p>
			<pre>s cim</pre>
            <p>На экран будут выведены параметры команды и их значения.</p>
            <p>Для выхода из интерпретатора наберите exit.</p>
            <p><strong><a name="basics" id="basics"></a>Основы создания скриптов</strong></p>
            <p>Скрипты являются последовательностью параметров и команд – в точности так же, как если бы они вводились в командной строке. В начале скрипта полезно вставлять «r copprm» на случай, если вы  скрипт запускается в новой директории. Скрипт EASI имеет расширение .eas. Например:</p>
			<pre>myscript.eas</pre>
            <p>пример содержание скрипта:</p>
            <pre>file=”new
dbsz=10,10
dbnc=1,0,0,0
dblayout=”file
r cim </pre>
            <p>              Никаких специальных команд начала и завершения скрипта не используется.</p>
            <p> Запуск скрипта из среды интерпретатора выглядит как запуск команды:</p>
			<pre>r “myscript.eas</pre>
              <p>
              в среде Windows можно опустить кавычки и расширение:</p>
			  <pre>r myscript</pre>
              <p>Запуск из командной строки (или из среды другой программы) выглядит так:</p>
			  <pre>easi r myscript</pre>
           <p>Подробнее на использовании скриптов и специальных функций языка в скриптах мы остановимся в <a href="easi4.html">отдельной статье</a>.</p>
           <p><strong><a name="pcidsk" id="pcidsk"></a>Особенности работы с файлами PCIDSK</strong></p>
           <p>Работать с данными в PCI Geomatica удобнее, используя собственный стандарт данных PCIDSK. Файлы PCIDSK включают в себя собственно растровые изображения (каналы, raster layers, image channels) и дополнительные данные в виде сегментов (segments).</p>
           <p> Каналы характеризуются радиометрическим разрешением (8 bit, 16 bit unsigned, 16 bit signed, 32 bit real). В одном файле могут содержаться каналы с разным радиометрическим разрешением (в отличии от ERDAS Imagine). В файле данных каналы могут храниться в основном файле с расширением .pix или во внешних файлах, имеющих то же имя и расширение .001, .002 и т.д. Если каналы хранятся в одном файле, то возможны два варианта хранения каналов: разбивка по пикселям (как в формате BIP) или разбивка по каналам (BSQ). Следует заметить, что при хранении каналов в одном файле часто возникают сбои при попытках создания или удаления каналов. Мы советуем всегда использовать внешние файлы для хранения каналов.</p>
           <p> Сегменты хранятся в основном файле с расширением .pix. Сегменты отличаются порядковыми номерами (нумерация сегментов непрерывная) и трехбуквенными кодами, обозначающими тип сегмента (трехбуквенные коды эквивалентны численным кодам, которые используют некоторые команды). И каналы, и сегменты имеют текстовые метки имени и описания. </p>
           <p>Основные типы сегментов: </p>
           <ul><li>Georeferencing [Type 150:GEO]  <br />
             Этот тип сегментов хранит информацию о привязке и проекции изображения. Сегмент №1 всегда является сегментом привязки. Однако могут быть созданы и дополнительные сегменты, которые могут включать информацию о проекциях, в которые будет трансформировано изображение. </li>
             <li>Bitmaps [Type 101:BIT]  <br />
              Растровые маски имеют такое же пространственное разрешение и привязку, что и каналы изображения, однако имеют значения только 1 и 0 (аналогичны 1-битному изображению в ERDAS Imagine). Это один из наиболее часто используемых типов сегментов. </li>
             <li>Vectors [Type 116:VEC] Сегменты, содержащие векторные данные. Подразумевается, что проекция векторных сегментов совпадает с проекцией растровых каналов, хотя векторные сегменты могут иметь собственную информацию о проекции, которая может отличаться от основной проекции базы данных. </li>
            </ul>
           <p>Дополнительные типы сегментов:</p>
           <ul>
             <li> Signatures [Type 121:SIG]<br />
               Спектральные сигнатуры классов для классификации.</li>
             <li> Look up Table [Type 170:LUT]
               <br />
               Таблицы радиометрической коррекции.               </li>
             <li>Pseudo-Colour Table [Type 171:PCT]<br />
               Таблицы кодирования цветов.               </li>
             <li>Ground Control Points [Type 214:GCP]
               <br />
               Наборы точек привязки.</li>
             <li> Text [Type 140:TEX]<br />
               Текстовые примечания </li>
            </ul>
           <p>Файл PCIDSK с каналами, разделенными по отдельным файлам, выглядит следующим образом:</p>
		    <pre>myfile.pix
myfile.001
myfile.002
myfile.003
</pre>
              <p>Для обработки все файлы с одним именем должны храниться в одной директории. Файлы каналов, «оторванные» от основного файла, могут быть импортированы в PCI, если известна структура данных и привязка. Основной файл с расширением .pix может быть использован для операций над сегментами даже в случае отсутствия файлов каналов.</p>
              <p><strong><a name="createfiles" id="createfiles"></a>Команды для создания файлов</strong></p>
              <p><strong>CIM</strong> – создание файла PCIDSK<br />
Использование:<br />
file=" имя файла<br />
dbsz= размер файла в пикселях (x,y)<br />
dbnc= число каналов каждого типов 8U,16S,16U,32R<br />
dblayout= тип хранения каналов в файле pixel/band/file</p>
              <pre>run cim</pre>
              <p>Пример:<br />
file=”new (расширение можно опустить)<br />
dbsz=10,10 (10х10 пикселей)<br />
dbnc=1,0,3,1 (создать 1 8-битный. 3 16-битных и 1 32-битный канал. Каналы будут созданы именно в такой последовательности)<br />
dblayout=”file (разбивка по отдельным файлам)<br />
r cim (выполнить команду)</p>
              <p><strong>CIMPRO2</strong> – создание файла и назначение ему проекции<br />
Использование:<br />
file=" (имя файла)<br />
dbnc= (число каналов  - см. выше)<br />
dblayout= (тип хранения каналов - см. выше)<br />
project="(имя проекции)<br />
zone=(зона проекции UTM)<br />
ellips="(эллипсоид или датум)<br />
llbound="(тип координат углов – географические (Y) или метрические (N))<br />
ulx=" (координаты углов)<br />
uly="<br />
lrx="<br />
lry="<br />
bxpxsz=" (размер пикселя по осям. Число пикселей будет определено автоматически)<br />
bypxsz="<br />
extrainf= (дополнительная информация о проекции. Команда включает множество дополнительных параметров для разных проекций. Все эти параметры могут быть объявлены «по умолчанию»)</p>
              <pre>r cimpro2</pre>
              <p><strong><a name="import" id="import"></a>Команды импорта/экспорта растровых данных</strong></p>
              <p><strong>FIMPORT</strong> – импорт файла. Если импортируемый файл растровый, будет создан канал в новом файле. Если импортируется векторный формат – будет создан файл с векторным сегментом. Информация о привязке, если может быть прочитана, будет внесена в сегмент №1.</p>
              <p> fili=" входной файл (с расширением!)<br />
                filo=" (новый файл PCIDSK)<br />
                dbiw= (опционно: может быть задано окно для автоматической обрезки изображения. Окно задается в пикселях изображения. Для векторных форматов не используется)<br />
                dblayout= (тип хранения каналов - см. выше)</p>
				<pre>run fimport</pre>
            <p><strong>FEXPORT</strong> – экспорт файла. Возможен экспорт как векторных, так и растровых изображений, а так же специальных сегментов (например, Look up Table)</p>
                <p> fili=" (входной файл)
                  <br />
                  filo=" (новый файл, расширение необходимо указать)<br />
                  dbiw= (опционно: может быть задано окно для автоматической обрезки изображения)<br />
                  dbic= (номера каналов для экспорта. Номера задаются списком: 1,2,3 или интервалом 1,-3)<br />
                  dbib= (номера сегментов растровых масок)<br />
                  dbvs= (номера векторных сегментов)<br />
                  ftype=" (тип файла. например tif, img, shp)</p>
				  <pre>run fexportt</pre>
            <p>При экспорте в растровые форматы нельзя указывать векторные сегменты и наоборот.</p>
                  <p> <strong>LINK</strong> – «импорт» файла в формат PCIDSK без переноса растровых данных. Эта команда позволяет Вам создать файл *.pix с внешним каналом данных, который представляет собой исходный растровый файл. Таким образом могут быть импортированы и файлы с информацией о привязке (например, geotif или ERDAS img).</p>
                  <p> fili=" (входной файл)<br />
                    filo=" (имя нового файла pix, к которому будет «привязан» входной файл)<br />
                    dbiw= (опционно: может быть задано окно для автоматической обрезки изображения)</p>
					 <pre>run link</pre>
            <p><em>Полезное замечание</em>: все операции над «привязанным» файлом будут выполняться аналогично обычному каналу файла PCIDSK. При этом формат файла, имя с расширением и встроенная информация о проекции будет сохранены. Таким образом, по окончании операций, файл можно использовать как обычный geotif или ERDAS img.</p>
                     <p> Другие полезные команды (смотрите описание в справочной системе EASI):<br />
                       <strong>NUMWRIT</strong> – выгрузка растровых данных в виде текстового файла.<br />
                       <strong>NUMREAD</strong> – чтение текстового файла в растровое изображение.
                       <br />
                       <strong>IMAGERD</strong> – импорт бинарных файлов.</p>
                     <p><strong><a name="adddelete" id="adddelete"></a>Команды удаления/добавления каналов и сегментов</strong></p>
                     <p> <strong>PCIADD2</strong> – добавление нового канала.</p>
                     <p> file=" (имя файла)<br />
                       datatype=" (радиометрическое разрешение. Возможные значения: 8u,16s,16u,32r)<br />
                       addmode=" (create – будет создан пустой канал, exist – канал будет добавлен из другого файла)<br />
                       ifile=" (Имя файла, который будет добавлен в качестве канала с опцией exist. Например, если существуют два файла с одинаковыми размерами и привязкой, то каналы одного из них (файлы с расширением *.001, *.002 и т.д.) могут быть привязаны в качестве дополнительных каналов к другому файлу PCIDSK. При этом копирование производиться не будет, что позволит сэкономить место на диске)</p>
					    <pre>r pciadd2</pre>
            <p><em>Полезное замечание</em>: в качестве существующего канала могут быть использованы файлы в формате geotif, img и другие. Совместное использование с командой LINK (см. выше) позволяет Вам собирать «временные» базы PCIDSK из файлов в других форматах для их совместной обработки. По окончании анализа сам файл *.pix может быть удален. Пример формирования базы данных из двух изображений в формате geotif (проекция и размер изображений должны быть одинаковыми!):</p>
<pre>fili=&quot;file1.tif
filo=&quot;temp.pix
r link
file=filo
datatype=&quot;16u
addmode=&quot;exist
ifile=&quot;file2.tif
r pciadd2</pre>
            <p><strong>PCIDEL2</strong> – удаление канала.</p>
            <p> file=" (имя файла)<br />
              delmode=" (yes  - канал будет физически стерт с диска, no – канал (в виде отдельного файла) сохранится, будет удалена только привязка этого канала к файлу PCIDSK. Эту опцию следует всегда использовать, если Вы использовали каналы другого снимка).
                            <br />
              dbic= (список каналов)</p>
							<pre>r pcidel2</pre>
            <p>Специальной команды создания сегментов типа растровых масок или векторов не существует. Однако часто бывает нужно создать пустую растровую маску для последующего использования в ходе обработки. Обходной путь здесь – использование команды пороговых значений (THR) со значениями, заранее превосходящими амплитуду значений в пределах канала. Например:</p>
                            <p> file=" (имя файла)<br />
                              dbic= (номер пустого канала или канала с известной амплитудой значений)<br />
                              dbob= (оставим пустым – этот сегмент будет создан)<br />
                              tval= (минимальное и максимальное пороговые значения, заранее больше известной амплитуды данных. Например, если канал, указанный в dbib, пустой, достаточно указать 1,1)<br />
                              dbsn=" (имя нового сегмента – обязательное поле)</p>
							  <pre>r thr</pre>
            <p>Подробнее команда THR будет рассмотрена в <a href="easi2.html">следующей статье</a>.</p>
                              <p> <strong>DAS</strong> – Удаление сегмента. Номер сегмента останется в базе данных, однако сегмент будет помечен "Deleted", и его номер будет свободным – то есть достанется следующему созданному сегменту.</p>
                              <p> file=" (имя файла)<br />
                                dbsl= (номера сегментов</p>
								<pre>r das</pre>
            <p><strong><a name="exchange" id="exchange"></a>Команды обмена данными между файлами PCIDSK</strong></p>
                                <p> <strong>IIA</strong> – Перенос сегмента (обычно используется для неграфических сегментов – сегментов привязки, таблиц радиометрической коррекции и пр.)</p>
                                <p> fili=" (имя исходного файла)<br />
                                  filo=" (имя файла, куда будет перенесен сегмент)<br />
                                  dbsl= (номера сегментов)<br />
                                  dbos= (номера сегментов, на место которых будут записаны перенесенные сегменты. Если поле оставить пустым, будут созданы новые сегменты)</p>
								  <pre>r iia</pre>
            <p><strong>IIB </strong>– Перенос растровых масок</p>
                                  <p> fili=" (имя исходного файла)<br />
                                    filo=" (имя файла, куда будут перенесены маски)<br />
                                    dbib= (номера исходных сегментов)<br />
                                    dbob= (номера сегментов, на место которых будут записаны перенесенные сегменты. Если поле оставить пустым, будут созданы новые сегменты)</p>
									<pre>r iib</pre>
            <p>При переносе растровых данных необходимо, что бы оба файла имели одинаковый размер (в пикселях). Желательно (но не обязательно) что бы привязка была одинаковой. Если привязка и размер пикселей совпадают, но линейный размер различается, можно использовать дополнительные параметры:<br />
dbiw= (размер исходного окна. Размер задается как Xoffset,Yoffset,Xsize,Ysize. Оффсет отсчитывается от верхнего левого пикселя изображения. Все размеры в пикселях)
  <br />
  dbow= (размер конечного окна. Задается также, как и размер исходного окна)
Данный параметр удобен, когда необходимо собрать мозаику изображений без перекрытия.</p>
                                    <p> <strong>III </strong>– Перенос канала изображения</p>
                                    <p> fili=" (имя исходного файла)<br />
                                      filo=" (имя файла, куда будут перенесены каналы)<br />
                                      dbic= (список исходных каналов)<br />
                                      dboc= (список каналов в выходном файле. Каналы должны быть уже созданы, параметр обязательно должен иметь такое же число каналов, как число исходных каналов)</p>
									  <pre>r iii</pre>
		    <p>Так же, как и при переносе растровых масок, изображения должны иметь одинаковый размер в пикселях. Возможно использование параметров dbiw и dbow (см. выше).</p>
									  <p> <strong>IIIAVG</strong> – Перенос канала изображения с усреднением значений в соответствии с различием в размере пикселей исходного и выходного растров. Параметры команды аналогичны III:</p>
									  <p> fili=" (имя исходного файла)<br />
									    filo=" (имя файла, куда будут перенесены каналы)<br />
									    dbic= (список исходных каналов)<br />
									    dboc= (список каналов в выходном файле)</p>
										<pre>r iiiavg</pre>
            <p>Для получения корректного результата, растровые сетки должны быть вложенными, т.е. в пределах пикселя выходного файла должно размещаться целое число пикселей исходного файла. Вложенные растровые сетки должны иметь одинаковый размер. Возможно использование параметров dbiw и dbow (см. выше).</p>
			                            <p> <em>Полезное замечание</em>: данная команда удобна для расчета процентного содержания одного класса в пределах пикселей растра с меньшим пространственным разрешением. Для расчета % целевого класса, задайте всем пикселям данного класса значение 100, а прочим пикселям значение 0 в исходном изображении. После выполнения команды IIIAVG выходное изображение будет содержать % класса в пределах каждого пикселя. Команда выполняет округление значения до ближайшего целого в случае использования 8-битного канала. Если Вы хотите сохранить точные значения, канал выходного файла должен быть целочисленным (32r).</p>
			                            <p> <strong>MOSAIC</strong> – Создание бесшовной мозаки изображений.</p>
			                            <p> fili="(имя исходного файла)<br />
			                              dbic=(список исходных каналов)<br />
			                              filo="(имя файла мозаики)<br />
			                              dboc= (список каналов в выходном файле)</p>
										  <pre>r mosaic</pre>
                                          <p>Для уменьшения эффекта перекрытия снимков используются дополнительные параметры:<br />
dbvs - номер векторного сегмента, где хранится информация о линии разреза растров;<br />
dblut – номер сегмента с таблицей радиометрической коррекции для изменения гистограммы исходного файла перед операцией «склеивания»;<br />
blend – размер зоны перекрытия изображений, в передах которой значения пикселей будут усреднены;
backval – значение, используемое для обозначения фона мозаики.</p>
                                          <p> <em>Полезное замечание</em>: удобная недокументированная возможность команды – перепроецирование данных из проекции исходного растра в проекцию выходного растра. При пересчете значений всегда использеется алгоритм «ближайшего соседа» (nearest neighbor). Команда так же может быть использована для «обрезки» растров по размерам, заданным размерами выходного изображения.</p>
                                          <p><strong><a name="struct" id="struct"></a>Команды чтения информации о структуре фалов PCIDSK</strong></p>
                                          <p> <strong>CDL</strong> – Вывод на экран (или в файл) списка каналов изображения с кратким описанием (тип данных, имя канала и др.)</p>
                                          <p> file=” (имя файла)<br />
                                            report=” (по умолчанию = “term (вывод на экран). Вместо этого может быть задано имя файла: report=”report.txt)</p>
											<pre>r cdl</pre>
                                            <p><strong>ASL </strong>- Вывод на экран (или в файл) списка сегментов файла PCIDSK с кратким описанием (тип данных, имя сегмента и др.)</p>
                                            <p> file=”  (имя файла)<br />
                                              report=” (term или имя файла)</p>
											  <pre>r asl</pre>
                                              <p><strong>IHR</strong> – Чтение и запись в набор переменных информации о структуре файла и привязке.</p>
                                              <p> file=" (имя файла)</p>
											  <pre>r ihr</pre>
                                              <p>Список создаваемых в памяти переменных:<br />
IMSTAT(1)  = размер в пикселях, Х<br />
IMSTAT(2)  = размер в пикселях, Y
<br />
IMSTAT(3)  = число каналов<br />
IMSTAT(4)  = число каналов 8-bit<br />
IMSTAT(5)  = число каналов 16-bit signed<br />
IMSTAT(6)  = число каналов 16-bit unsigned<br />
IMSTAT(7)  = число целочисленных каналов 32-bit<br />
IMSTAT(8)  = число сегментов<br />
IMSTAT(9)  = размер пикселя, X (м)<br />
IMSTAT(10) = размер пикселя, Y (м)<br />
IMSTAT(11) = единицы растра (0=PIXEL,1=UTM,2=METRE,3=LONG/LAT,                           4=other,-1=error)<br />
IMSTAT(12) = Верхний левый угол,  X (единицы растра)<br />
IMSTAT(13) = Верхний левый угол,  Y (единицы растра)<br />
IMSTAT(14) = Нижний правый угол,  X (единицы растра)<br />
IMSTAT(15) = Нижний правый угол,  Y (единицы растра)</p>
                                              <p> <em>Полезное замечание</em>:  команда IHR удобна, если Вы хотите создать «чистую» копию растра с сохранением размеров и привязки. Вот как будет выглядеть последовательность команд:</p>
                                              <p> file="old (имеющийся растр)</p>
											  <pre>r ihr</pre>
                                              <p>file="new (создаваемый растр)<br />
dbsz=imstat(1),imstat(2) (используем переменные из памяти)<br />
dbnc= 10,0,0,0 (число каналов по типам)<br />
dblayout="file<br />
r cim (создаем файл)</p>
<pre>fili=&quot;old
filo=&quot;new
dbsl=1
dbos=1
r iia</pre>
<p>Последняя команда – копирование сегмента привязки. Поскольку создаваемый файл имеет такой же размер, что и исходный, сегменты привязки у них будут идентичными.</p>
              <p class="discuss">
			  	<span><!--#include virtual="/scripts/forum-comments-num.php?i=1660"--></span>
			</p>
		<div class="links">
		<h2>Ссылки по теме</h2>
		<ul>
               <li><a href="easi2.html">Основы макроязыка EASI (PCI Geomatica). Часть 2. Анализ данных</a></li>
			   <li><a href="easi3.html">Основы макроязыка EASI (PCI Geomatica). Часть 3. Географическая привязка и проекции</a></li>
			   <li><a href="easi4.html">Основы макроязыка EASI (PCI Geomatica). Часть 4. Примеры автоматизации процессов</a></li>
		</ul>
		</div>
<!--Contents end-->
<!--#include virtual="/scripts/date.php" -->
<p class="status"><span>Дата создания: 15.08.2007
<br>
Автор(ы): Пётр Потапов</span></p>
<!--#include virtual="/inc/footer2.php" -->