<!--#include virtual="/inc/header02.txt" -->
<title>GIS-Lab: Перепроектирование растровых данных в ERDAS IMAGINE</title>
<!--#include virtual="/inc/header2.txt" -->
<div class="cont">
<div class="col1">

<ul class="path">
   <li class="first"><a href="/">Главная</a></li>
   <li><a href="/qa.html">Вопросы и ответы</a></li>
</ul>
<!--Contents start-->
<h1>Перепроектирование растровых данных в ERDAS IMAGINE </h1>
<p class="ann">Описание процесса перепроектирования данных, пакетная перепроектировка в статье пока не рассматривается.</p>
<p class="discuss discuss_top"><span><!--#include virtual="/scripts/forum-comments-num.php?i=290"--></span></p>
<p><strong>Задача:</strong> Перевести имеющиеся данные, находящиеся в определенной спроектированной или географической системе координат, в другую спроектированную или географическую систему координат. </p>
            <p>Внимание, в этой заметке не рассматривается случаи привязки данных в локальной системе координат в спроектированную или географическую (например привязка отсканированных растров топографических карт). Описание этого процесс можно <a href="/qa/topogeoref.html">прочитать здесь</a>. </p>
            <p><b>Процесс перепроектировки </b></p>
            <p>Для работы потребуется:</p>
            <ol>
              <li>Рабочая версия ERDAS IMAGINE</li>
              <li>Знание исходной и конечной проекции растровых данных </li>
            </ol>
            <p><img src="/images/1.gif" width="33" height="41" /></p>
            <p><strong>Установка системы координат исходного (проектируемого) изображения </strong></p>
            <p>Предполагается, что изображение исходно находится в определенной спроектированной системе координат. Например, изображение может быть описано следующим набором параметров проекции и системы координат (в терминах ERDAS IMAGINE, на примере изображения в проекции Albers):</p>
            <ul>
              <li> <a href="ftp://e0mss21u.ecs.nasa.gov/srtm/"></a>Projection: Albers Conical Equal Area
                <ul>
                  <li>Latitude of 1st standart parallel: 52</li>
                  <li> Latitude of 2st standart parallel: 64</li>
                  <li>Longitude of central meridian: 45</li>
                  <li>Latitude of origin of projection: 0</li>
                  <li>False easting at central meridian: 8500000</li>
                  <li>False northing at origin: 0 </li>
                </ul>
              </li>
              <li>Spheroid: Krasovsky</li>
              <li>Datum: Pulkovo 1942 </li>
            </ul>
            <p>Проекция растрового файла не всегда интегрирована в сам файл, теоретически, для регистрации растра в системе координат достаточно и внешнего файла привязки с заданными координатами верхнего левого угла и размерами элемента изображения по осям (т.н. world-файл). Однако, наличия такого файла недостаточно для перепроектирования изображения, так как данные о проекции в таком файле не прописываются.</p>
            <p>Для того, чтобы определить, есть ли данные о проекции в вашем растровом файле необходимо воспользоваться инструментом Image Information. Главная панель <strong>ERDAS IMAGINE\Tools\Image Information...</strong>В нем, нужно выбрать <strong>File\Open</strong> и открыть нужный растровый файл. Далее возможно два варианта:</p>
            <p>Первый вариант. Все данные о системе координат и проекции уже прописаны. В этом случае нижняя часть окна Image Information для этого файла будет выглядеть следующим образом: </p>
            <p align="center"><img src="/images/reproject01.gif" width="545" height="69" /></p>
            <p>Второй вариант. Данные о системе координат и проекции не прописаны. В этом случае нижняя часть окна Image Information для этого файла будет выглядеть следующим образом: </p>
            <p align="center"><img src="/images/reproject02.gif" width="551" height="71" /></p>
            <p>Если данные о системе координат уже присоединены к файлу, то можно переходить к шагу 2. Если нет, необходимо их прописать. Это можно сделать следующим образом (файл растра не должен быть открыт во вьювере).</p>
            <ol>
              <li>Открыть файл в Image Information</li>
              <li> Edit\Change Map Model... Выбрать Units: Meters, Projection: проекция вашего растра. Необходимо понимать что в группе Projection появляется список <br />
                <br />
                <img src="/images/reproject03.gif" width="468" height="194" /> </li>
              <li> Edit\Add/Change Projection... Выбрать название проекции и ее параметры. Например такие или любые другие нужные вам:<br />
                <br />
                <img src="/images/reproject04.gif" width="634" height="406" /> </li>
            </ol>
            <p>После нажатия Ok, описание системы координат и проекции интегрируется в файл растрового изображения или будет создан специальный файл *.aux, где будут прописаны эти параметры. Так или иначе, теперь можно перепроектировать изображение методами ERDAS IMAGINE.</p>
            <p>Необходимо обратить внимание, что в примере выше все настройки можно либо устанавливать вручную, либо воспользоваться готовым дополнительным <a href="/other/projections-erdas9.zip">файлом набора проекций</a>, включающим проекции Альберса, Гаусса-Крюгера и другие. </p>
            <p>Если попытаться перепроектировать данные, для которых не существует описания системы координат (система координат не &quot;прописана&quot;), то ERDAS выдаст такое предупреждение об ошибке:</p>
            <p align="center"><img src="/images/reproject-07.gif" /></p>
            <p>Если вы получили такое сообщение, повторите процесс описания системы координат. </p>
            <p><img src="/images/2.gif" width="33" height="41" /><strong>Перепроектировка растровых данных</strong></p>
            <p>&nbsp;</p>
            <p>Для перепроектировки данных, которым были прописана проекция и система координат, необходимо выбрать из меню главной панели ERDAS Main\Data Preparation\Reproject Images</p>
            <p align="center"><img src="/images/reproject05.gif" width="397" height="513" /> </p>
            <p>В этом окне необходимо:</p>
            <ol>
              <li>Задать имя перепроектируемого изображения (того, для которого у вас прописана проекция и система координат) </li>
              <li>Задать имя и путь к новому изображению</li>
              <li>Задать выходную проекцию, если набора параметров проекции в списке ERDAS нет, то можно
                <ol>
                  <li>Нажав на кнопку <img src="/images/reproject06.gif" width="26" height="25" /> задать нужные параметры проекции, ERDAS предложит сохранить введенные параметры, можно задать новое имя категории и проекции, по которым легко будет отыскать нужную проекцию в последствие; </li>
                  <li>Загрузить и установить в нужную папку <a href="/programs.html#other">дополнительный набор проекций</a> для ERDAS (включающий набор проекций Albers (3 штуки), все зоны Гаусса Крюгера и дополнительную географическую систему координат на базе Pulkovo-1942 настроенную в <a href="/qa/gps.html">соответствие с ГОСТ 51794-2001</a>);</li>
                </ol>
              </li>
              <li>Флажок Ignore Zero in Stats должен быть установлен, в противном случае, нулевые значения (которые чаще всего представляют границу дополняющую значимую область изображения до прямоугольника) будут включены в статистику, что имеет негативный эффект на визуализацию (<a href="hist-zeroes.html">подробнее</a>); </li>
              <li>Resample Method: Nearest Neighbor </li>
              <li>Переключатель должен быть в положении  Rigorous Transformation </li>
            </ol>
            <p class="discuss">
				<span><!--#include virtual="/scripts/forum-comments-num.php?i=290"--></span>
			</p>
<!--Contents end-->
<!--#include virtual="/scripts/date.php" -->
<p class="status"><span>Дата создания: 04.03.2005
<br>Автор(ы): <a href="/forum/memberlist.php?mode=viewprofile&u=2" target="_blank">Максим Дубинин</a></span></p>
<!--#include virtual="/inc/footer2.php" -->