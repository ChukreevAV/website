<!--#include virtual="/inc/header02.txt" -->
<title>GIS-Lab: Создание и подключение дополнительных библиотек к ENVI</title>
<!--#include virtual="/inc/header2.txt" -->
<div class="cont">
<div class="col1">

<ul class="path">
   <li class="first"><a href="/">Главная</a></li>
   <li><a href="/qa.html">Вопросы и ответы</a></li>
</ul>
<!--Contents start-->
<h1>Создание и подключение дополнительных библиотек к ENVI</h1>
<p class="discuss discuss_top"><span><!--#include virtual="/scripts/forum-comments-num.php?i=4094"--></span></p>
<p>ENVI по оценкам комиссии при правительстве США признан самым функциональным
              пакетом для обработки ДЗЗ. Однако его функции еще больше расширить подключением
              дополнительных модулей.</p>
            <p>Подключаемые модули (plugins) являются удобным способом расширить функциональность
              ENVI, подключаемые модули создаются из программ написанных на языке IDL.
              Модули имеют расширение *.sav</p>
            <p>1. Создание модуля</p>
            <p>Допустим у вас есть программа на языке IDL, имеющая три процедуры:</p>
            <p><b>Proc1, Proc2, Proc3</b></p>
            <p>для того, чтобы превратить эту программу в модуль, вы долны исполнить
              следующую команду</p>
            <p><b>SAVE [, Var1, ..., Varn] [, /ALL] [, /COMM, /VARIABLES] [, /COMPRESS]
              [, FILENAME=string] [, ROUTINES] [, /SYSTEM_VARIABLES] [, /VERBOSE]</b></p>
            <ul>
              <li>Var1,...Var2 перечисление переменных предназначенных для сохранения;</li>
              <li>ключ /ALL позволяет сохранить все системные и локальные переменные,
                общие блоки, без их перечисления;</li>
              <li>ключ /COMM позволяет сохранить общие блоки;</li>
              <li>ключ /VARIABLES сохраняет все переменные (опция по умолчанию);</li>
              <li>ключ /COMPRESS сжимает файл модуля по свободно распространяемому алгоритму
                компрессии ZLIB (v.1.1.3);</li>
              <li>FILENAME позволяет указать имя и путь к файлу в который будет записан
                модуль;</li>
              <li>ROUTINES сохраняет процедуры (все если список процедур не указан);</li>
              <li>ключ /SYSTEM_VARIABLES указывает, что нужно сохранить текущее состояние
                системных переменных;</li>
              <li>ключ /VERBOSE включает режим извещения о скомпилированных процедурах
                и переменных в процессе сборки модуля</li>
            </ul>
            <p>таким образом, для компиляции нашей программы во внешний модуль, нужно
              ввести в командную строку IDL, такую команду:</p>
            <p><b>Save, /ROUTINES, filename=&quot;c:\temp\test.sav&quot;, /verbose</b> или</p>
            <p><b>Save, /ROUTINES, &quot;Proc1&quot;, &quot;Proc2&quot;, &quot;Proc3&quot;,
              filename=&quot;c:\temp\test.sav&quot;, /verbose</b></p>
            <p>Компилировать модули рекомендуется из среды разработки IDL, а не ENVI,
              это просто отличить по системной подсказке, если она <b>IDL&gt;</b> то
              все нормально, если <b>ENVI&gt;</b>, то лучше не использовать первый способ
              (компилировать все процедуры) , потому что скомпилируются все процедуры
              ENVI также и получится огромный файл модуля.</p>
            <p>Компилировать одновременно переменные и процедуры нельзя, по умолчанию
              (при отсутствии слова /ROUTINES) компилируются переменные.</p>
            <p>Скомпилированные данные записываются в формате <b>XDR - eXternal Data
              Representation.</b></p>
            <p><b>2. Подключение созданного модуля.</b></p>
            <ol>
              <li>Скопировать полученный модуль в папку <b>$Envi35\IDL55\products\envi35\save_add\ </b>помещенные в нее модули автоматически компилируются и подключаются
                в ENVI</li>
              <li>Создать раздел и кнопку на панели инструментов. Для этого нужно в
                файле <b>envi.men</b>, который располагается в папке <b>$Envi35\IDL55\products\envi35\menu\ </b>добавить следующие строки:</li>
            </ol>
            <p><b>0 {MyPlugins}</b> ;название которое появится как раздел на панели
              меню ENVI<br />
              <b>1 {Radiometric correction} {} {Proc1}</b> ;название подраздела-кнопки,
              при нажатии на которую будет запускаться процедура Proc1</p>
            <p>При необходимости может быть несколько уровней вложения, цифра в начале
              строки определяет уровень вложенности, то есть новую опцию можно добавить
              в уже существующее меню. </p>
<p class="discuss"><span><!--#include virtual="/scripts/forum-comments-num.php?i=4094"--></span></p>
<!--Contents end-->
<!--#include virtual="/scripts/date.php" -->
<p class="status"><span>Дата создания: 31.10.2002
<br>Автор(ы): <a href="/forum/memberlist.php?mode=viewprofile&u=2" target="_blank">Максим Дубинин</a></span></p>
<!--#include virtual="/inc/footer2.php" -->
