<!--#include virtual="/inc/header02.txt" -->
<title>GIS-Lab: Получение основных пространственных характеристик объектов в Arcview GIS</title>
<!--#include virtual="/inc/header2.txt" -->
<div class="cont">
<div class="col1">

<ul class="path">
   <li class="first"><a href="/">Главная</a></li>
   <li><a href="/qa.html">Вопросы и ответы</a></li>
</ul>
<!--Contents start-->
<h1>Получение основных пространственных характеристик объектов в Arcview GIS </h1>
<p class="ann">Как расчитать длины, площади и т.п.</p>
<p class="discuss discuss_top"><span><!--#include virtual="/scripts/forum-comments-num.php?i=789"--></span></p>
<p>В статье рассматривается получение нескольких основных
              пространственных характеристик объектов <b>без использования</b> дополнительных расширений (extensions), с использованием стандартных возможностей пакета Arcview GIS.</p>
            <p>В данной статье рассматриваются следующие типы объектов и соответствующие им пространственные характеристики:</p>
            <table align="center" class="tabanno">
              <tr>
                <th><p>Тип объекта</p></th>
                <th><p>Пространственная характеристика </p></th>
                <th><p>Получение</p></th>
              </tr>
              <tr>
                <td><p>Точка</p></td>
                <td><p>Координата X<br />
                    Координата Y </p></td>
                <td><p align="center"><a href="#point">перейти</a></p></td>
              </tr>
              <tr>
                <td><p>Линия</p></td>
                <td><p>Длина</p></td>
                <td><p align="center"><a href="#line">перейти</a></p></td>
              </tr>
              <tr>
                <td><p>Полигон</p></td>
                <td><p>Длина (периметр)<br />
                    Площадь<br />
                Центр (центроид) </p></td>
                <td><p align="center"><a href="#polygon">перейти</a></p></td>
              </tr>
            </table>
            <p>Те, кто пользовался или пользуется Mapinfo могут с недоумением отметить отсутствие в Arcview метода быстрого просмотра площади объекта или координат точки. Посмотреть основные пространственные характеристики объекта просто выбрав его в Arcview, ArcGIS в отличие от Mapinfo невозможно. Однако, несмотря на кажующееся неудобство, в этом есть своя логика.</p>
            <p>Дело в том, что визуальная
              оценка параметров объекта, является, по большому счету, довольно бессмысленной задачей. Более оптимально было бы заносить пространственные характеристики объектов непосредственно в атрибутивную таблицу. При желании
              можно также организовать постоянный мониторинг (обновление) пространственных характеристик объектов, так, как это делает, например, Arcinfo Workstation при работе со своим форматом. Это имеет смысл если вы выполняете серию пространственных
              операций изменяющих пространственные характеристики объектов и вам нужно следить за их изменениями.</p>
            <p>Пространственные характеристики объетов о которых идет речь - неотъемлимая часть их геометрии. В Arcview, ArcGIS получить геометрию объекта можно через специальное поле в таблице - Shape.</p>
            <p>При расчете пространственной характеристики важно помнить, что единицы измерения, по умолчанию, будут соответствовать исходным единицам измерения ваших данных. То есть:</p>
            <ul>
              <li> Если данные находятся в географической системе координат, то независимо от того, спроектирован вид или нет, получаемые значения площадей и т.д., по умолчанию, будут в десятичных градусах (что приемлемо для координат точек, но не приемлемо для длин и площадей).</li>
              <li> Если данные находятся в неизвестной системе координат и единицы измерения также неизвестны, то расчеты все равно могут быть произведены, однако единицы измерения также останутся неизвестными. </li>
            </ul>
            <p>Ниже будет продемонстрировано, как, используя набор данных в географической системе координат, находящихся в спроектированном виде, можно получить в атрибутивной таблице пространственные характеристики объектов в спроектированной системе координат (т.е. с учетом проекции вида). При таких вычислениях необходимо помнить, в какой системе координат находился вид при расчете пространственных характеристик.</p>
            <p>Итак, для занесения пространственной характеристики объекта (объектов), необходимо:</p>
            <p>1. Открыть атрибутивную таблицу темы. <strong>Theme\Table...</strong> или выбрав инструмент Table на панели управления<img src="/images/shapecalc-03.gif" width="25" height="22" /></p>
            <p>2. Начать редактирование <strong>Table\Start Editing </strong></p>
            <p>3. Создать поле(поля) нужного формата: целочисленного или с плавающей точкой (в зависимости от типа пространственной характеристики). <strong>Edit\Add Field...</strong> </p>
            <p>3. Сделать активным
              созданное поле (колонку) щелкнув по его заголовку. </p>
            <p>4. Вызвать инструмент ввода значений всем записям в таблице. <strong>Field\Calculate</strong> или выбрав инструмент Calculate на панели управления <img src="/images/shapecalc-02.gif" width="25" height="22" /></p>
            <p>5. Ввести нужное выражение-команду, которая обратится за пространственными характеристиками объекта к полю <b>shape</b>, содержащему геометрию объекта.</p>
            <p>6. После окончания расчетов, не забудьте сохранить изменения сделанные в таблице. <strong>Table\Stop Editing </strong></p>
            <p><b>1. <a name="polygon" id="polygon"></a>Полигональный объект </b></p>
            <p><b>Площадь (Area)</b></p>
            <p>Выражение для получения данных в системе координат и единицах измерения самой темы. Данные как и вид могут в любой системе координат, получаемый результат НЕ будет зависеть от проекции вида:</p>
            <tcode>Area = [Shape].returnarea</tcode>
            <p>Где Area - название поля, куда будет записано значение площади, название поля может быть любым. </p>
            <p align="center"><strong><img src="/images/shapecalc-01.gif" width="421" height="270" /></strong></p>
            <p>Повторимся, что этот запрос неудобно использовать при
              работе со спроектированными видами, так как он (запрос) будет возвращать
              площадь, не учитывая проекцию вида (см. статью &quot;<a href="/qa/areacalc.html">Вычисление
              площади</a>&quot;). Однако если вы работаете с вектором уже находящимся
              в проекции, то это самый быстрый способ расчитать площади для полигонов.</p>
            <p>Для получения спроектированного значения в метрах используя спроектированные на лету данные, исходно находящиеся в географической системе координат, необходимо модифицировать выражение следующим образом:</p>
            <tcode>Area = [Shape].returnprojected(av.Finddoc(&quot;View1&quot;).Getprojection).returnarea</tcode>
            <p>где Area - название поля, где будет размещен результат вычисления (название поля может быть любым), а View1 - название вида, в котором содержатся ваши данные. Название вида можно определить по его заголовку.</p>
            <p><b>Периметр</b></p>
            <p>Выражение для получения данных в системе координат и единицах измерения самой темы. Данные как и вид могут в любой системе координат, получаемый результат НЕ будет зависеть от проекции вида:</p>
            <tcode>Perimeter = [Shape].returnlength</tcode>
            <p>Выражение для спроектированного вида (данные в географической системе координат, проекция вида - установлена):</p>
            <tcode>Perimeter = [Shape].returnprojected(av.Finddoc(&quot;View1&quot;).Getprojection).returnlength</tcode>
            <p>где Perimeter -  название поля, где будет размещен результат вычисления (название поля может быть любым), а View1 - название вида, в котором содержатся ваши данные. Название вида можно определить по его заголовку.</p>
            <p><strong>Центр (центроид)</strong></p>
            <p>Выражение для получения данных в системе координат и единицах измерения самой темы. Данные как и вид могут в любой системе координат, получаемый результат НЕ будет зависеть от проекции вида:</p>
            <tcode>CenterX = [Shape].ReturnCenter.getx<br />
                CenterY = [Shape].ReturnCenter.gety</tcode>
            <p>Выражение для спроектированного вида (данные в географической системе координат, проекция вида - установлена): </p>
            <tcode>CenterX = [Shape].returnprojected(av.Finddoc(&quot;View1&quot;).Getprojection).ReturnCenter.getx<br />
CenterY = [Shape].returnprojected(av.Finddoc(&quot;View1&quot;).Getprojection).ReturnCenter.gety
                </tcode>
            <p>где Perimeter -  название поля, где будет размещен результат вычисления (название поля может быть любым), а View1 - название вида, в котором содержатся ваши данные. Название вида можно определить по его заголовку. </p>
            <p><b>2. <a name="line" id="line"></a>Линейный объект</b></p>
            <p><b>Длина</b></p>
            <p>Выражение для получения данных в системе координат и единицах измерения самой темы. Данные как и вид могут в любой системе координат, получаемый результат НЕ будет зависеть от проекции вида:</p>
            <tcode>Length = [Shape].returnlength</tcode>
            <p>Выражение для спроектированного вида (данные в географической системе координат, проекция вида - установлена): </p>
            <tcode>Length = [Shape].returnprojected(av.Finddoc(&quot;View1&quot;).Getprojection).returnlength</tcode>
            <p>где Length - название поля, где будет размещен результат вычисления (название поля может быть любым), а View1 - название вида, в котором содержатся ваши данные. Название вида можно определить по его заголовку.</p>
            <p><b>3. <a name="point" id="point"></a>Точечный объект </b></p>
            <p>Для получения координат точек, нужно создать 2 поля и ввести 2 выражения.</p>
            <p>Выражение для получения данных в системе координат и единицах измерения самой темы. Данные как и вид могут в любой системе координат, получаемый результат НЕ будет зависеть от проекции вида:</p>
            <tcode>Long = [Shape].getx <br />
                  Lat = [Shape].gety</tcode>
            <p>Выражение для спроектированного вида (данные в географической системе координат, проекция вида - установлена): </p>
            <tcode>Long = [Shape].returnprojected(av.Finddoc(&quot;View1&quot;).Getprojection).getx <br />
                  Lat = [Shape].returnprojected(av.Finddoc(&quot;View1&quot;).Getprojection).gety</tcode>
            <p>где Long, Lat - название полей, где будет размещен результат вычисления (название поля может быть любым), а View1 - название вида, в котором содержатся ваши данные. Название вида можно определить по его заголовку.</p>
            <p align="center"><img src="/images/shapecalc2.gif" width="420" height="270" /></p>
            <p>Эти выражения являются реализацией запросов к пространственным данным на языке Avenue
              через инструмент Calculate. С помощью этого инструмента и модифицированных запросов можно
              получать и другие пространственные характеристики объекта(ов).</p>
            <p class="discuss">
				<span><!--#include virtual="/scripts/forum-comments-num.php?i=789"--></span>
			</p>
			<div class="links">
			<h2>Ссылки по теме</h2>
			<ul>
               <li><a href="/qa/shapecalc-ag.html">Получение основных пространственных характеристик объектов в ArcGIS</a></li>
			</ul>
			</div>
<!--#include virtual="/scripts/date.php" -->
<p class="status"><span>Дата создания: 06.06.2002
<br>Автор(ы): <a href="/forum/memberlist.php?mode=viewprofile&u=2" target="_blank">Максим Дубинин</a></span></p>
<!--#include virtual="/inc/footer2.php" -->