<!--#include virtual="/inc/header02.txt" -->
<title>GIS-Lab: Учеты по фотоматериалам с помощью QGIS</title>
<!--#include virtual="/inc/header2.txt" -->
<div class="cont">
<div class="col1">

<ul class="path">
   <li class="first"><a href="/">Главная</a></li>
   <li><a href="/qa.html">Вопросы и ответы</a></li>
</ul>
<!--Contents start-->
<h1>Учеты по фотоматериалам с помощью QGIS</h1>
<p class="ann">Иллюстрация применения ГИС </p>
            <p>Инструменты ГИС можно применять для широкого спектра задач, так или иначе связанных с пространственными данными. При этом пространство координат не обязательно должно быть географическим или метрическим, привязанным к географическому с помощью проекций. Одна из типичных задач подобного рода - подсчеты количества объектов по материалам съемки. Разберем простейший пример. </p>
            <p>Задача: Отметить птиц на пруду по фотографии, разделив их по виду и посчитав сколько какого вида птиц находится на пруду.</p>
            <p>Дополнительные условия: сделать это таким образом, чтобы было не нужно было пересчитывать птиц вручную после их мечения.</p>
            <p>Так как основным материалов для работы являет фотография, имеющая свою локальную (пиксельную, файловую) систему координат, то для решения нашей задачи можно применить средства ГИС. </p>
            <p>Данная статья является простейшей иллюстрацией примения ГИС и ее основопологающих принципов как:</p>
            <ul>
              <li>пространственная привязка </li>
              <li>многослойность</li>
              <li>объединение геометрической и атрибутивной информации </li>
            </ul>
            <p>Для решения задачи воспользуемся свободным приложением ГИС - QGIS. Примером послужит данное фото (<a href="/images/bird-count-02.jpg">версия в полном разрешении</a>, непосредственно используемая в работе, автор И. Сметанин)</p>
            <p align="center"><img src="/images/bird-count-01.gif" width="700" height="293"></p>
            <h2>1. Привязка изображения</h2>
            <p>По большому счету этот этап является не обязательным, но если изображение привязать, то можно будет легче произвести некоторые полезные вычисления с полученными данными. </p>
            <p>Для привязки изображения, нужно определить размер его пикселя на местности. Для этого, откроем изображение в QGIS, увеличим его крайний правый фрагмент (два лебедя), допустим, что мы знаем, что расстояние между птицами около 1 метра. </p>
            <p align="center"><img src="/images/bird-count-03.gif" width="259" height="129"></p>
            <p>Посчитаем в QGIS количество пикселей между двумя лебедями. Для этого выберем инструмент Measure из панели Attributes <img src="/images/bird-count-04.gif" width="34" height="32">. Измерим расстояние между объектами, так как никакой географической или спроецированной системы координат у изображения нет, сообщение о неправильной системе координат можно проигнорировать, измерения будут производиться в пикселях:</p>
            <p align="center"><img src="/images/bird-count-05.gif" width="272" height="228"> </p>
            <p>Итак, расстояние в 1 метр на снимке примерно равно 152 пикселям, то есть 1 пиксель - 0.007 метра. Данная цифра является очень неточной, так как снимок является перспективным и измерение производится &quot;навскидку&quot;, но для дальнейшей работы вполне подойдет.</p>
            <p>Создадим <a href="/qa/tfw.html">текстовый файл привязки</a> для изображения следующего содержания:</p>
            <pre>0.007
0
0
-0.007
1
1</pre>
            <p>Название файла привязки должно быть   таким же, как и у фотографии, расширение JGW.</p>
            <p>Удалим и перезагрузим фотографию из QGIS. Зададим единицы измерения проекту - метры Settings\Project properties\Map units = meters. Чтобы убедиться что наши измерения на снимке теперь имеют смысл - измерим тоже расстояние между лебедями. Оно должно быть равно примерно 1 метру.</p>
            <h2>2. Подготовка к работе </h2>
            <p>Создадим несколько точечных векторных слоев, в которых мы будем отмечать птиц. В каждом слое будут храниться точки для отдельного вида. </p>
            <p>Создание точечного слоя производится через Layer\New Vector Layer...\. Тип - точечный. Так же необходимо создать одно или более дополнительных атрибутивных слоев, создадим например поле type типа string. </p>
            <p align="center"><img src="/images/bird-count-06.gif" width="403" height="449"></p>
            <p>Создадим таких слоев столько, сколько необходимо. В процессе работы можно будет создавать новые, так что начать можно с одного.</p>
            <p>После создания слоев, можно задать им удобные условные обозначения, хорошо заметные на фоне изображения. Для этого нужно правой кнопкой щелкнуть на нужном слое, выбрать Properties\Symbology, в открывшемся окне редактирования условных обозначений можно выбрать более подходящий цвет и размер для значка.</p>
            <p>После того как слои созданы и загружены, подходящие условные обозначения заданы, рекомендуется сохранить проект File\Save project as... Проект QGIS не хранит сами данные, но хранит все настройки проекта, условные обозначения, перечень загруженных слоев, и другие параметры. После аварии или ошибки программы можно будет легко восстановить работу. </p>
            <h2>3. Редактирование</h2>
            <p>Выберем слой, соответствующий определенному виду птиц, перейдем в режим редактирования, нажав на кнопку <img src="/images/bird-count-07.gif" width="34" height="34"> на панели инструментов Digitizing. Далее выберем инструмент для создания точек и проставляем их для выбранного вида <img src="/images/bird-count-08.gif" width="35" height="32">. Если нужно поставить точку для другого вида, нажимаем на <img src="/images/bird-count-07.gif" width="34" height="34">, принимаем изменения, выбираем в списке слоев другой слой и включаем на редактирование его <img src="/images/bird-count-07.gif" width="34" height="34"> и так далее, пока все особи не будут отмечены. </p>
            <h2>4. Результаты</h2>
            <p>Быстро получить количество точек можно, просто открыв атрибутивную таблицу каждого слоя, щелкнув правой кнопкой на его имени и выбрав Open Attribute Table, в таблице каждому объекту (в нашем случае точке) соответствует запись, следовательно количество записей будет равно количеству объектов.</p>
            <p align="center"><img src="/images/bird-count-09.gif" width="775" height="592"></p>
            <h2>5. Заключение </h2>
            <p>По сравнению с редактированием изображения в графическом редакторе, результаты работы по приведенной схеме таким образом являются:</p>
            <p>а) Легко модифицируемыми, обновляемыми.</p>
            <p>б) Точки явным способом разделены, являются фактически различными наборами данных. </p>
            <p>в)  Количество точек учитывается автоматически, их не надо пересчитывать вручную или каким-либо образом держать в памяти.</p>
            <p>г) Такие данные можно использовать в дальнейшем для различного анализа, например вычисления расстояний между особями и группами и т.п. </p>
            <p class="discuss">
		   <span><!--#include virtual="/scripts/forum-comments-num.php?i=852"--></span>
		</p>
            <div class="links">
				<h2>Ссылки по теме</h2>
					<ul>
						<li><a href="modislandprod.html">Ссылка на дополнительный источник информации внутренняя</a></li>
						<li><a href="http://lpdaac.usgs.gov/landdaac/tools/modis/about.asp" target="_blank" class="external">Ссылка на дополнительный источник информации внешняя</a></li>
					</ul>
			</div>
<!--Contents end-->
<!--#include virtual="/scripts/date.php" -->
<!--#include virtual="/inc/footer2.php" -->
