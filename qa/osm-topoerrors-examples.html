<!--#include virtual="/inc/header02.txt" -->
<title>Gis-lab: Где топологические ошибки в OpenStreetMap?</title>
<!--#include virtual="/inc/header2.txt" -->

<div class="cont">
<div class="col1">

<ul class="path">
   <li class="first"><a href="/">Главная</a></li>
   <li><a href="/qa.html">Вопросы и ответы</a></li>
</ul>

<h1 id="title">Примеры топологических ошибок OpenStreetMap и способов их устранения</h1>
<p class="ann">Как выглядят топологические ошибки в OSM и как их исправить </p>
<p class="discuss discuss_top"><span><!--#include virtual="/scripts/forum-comments-num.php?i=3998"--></span></p>
<p>Здесь приводятся примеры распространенных ошибок возникающих при создании и редактировании OpenStreetMap. Пожалуйста, присылайте свои примеры. Посмотреть список неисправленных ошибок можно <a href="/projects/osm-errors.html">здесь</a>. </p>
<p>При редактировании и поиске ошибок - не забывайте использовать Валидатор (Validator). </p>
<h2>Пример 1</h2>
<p>Самопересечение - возникает при неаккуратной оцифровке. В данном случае выражается в двух пересечениях полигона самого себя. Найдено и исправлено <a href="http://www.osm.org/?mlon=42.537501456249&mlat=43.295492204881&zoom=16" target="_blank" class="external">здесь</a>.</p>
<p><img src="/images/osm-errors-01.gif" width="371" height="297"></p>
<p>Исправляем следующим образом:</p>
<p>Берем за неправильную точку и тянем пока пересечения не исчезнут.</p>
<p><img src="/images/osm-errors-02.gif" width="369" height="295"> </p>
<h2>Пример 2</h2>
<p>Неправильный остров (лагерь) сделанный врезом + нарисованный сверху полигон (кустарник) - вместо отношения. Дополнительно, труднозаметное, но явное наличие дополнительной точки (заметной по сдвинутым виртуальным точкам - в центре). Найдено и исправлено <a href="http://www.osm.org/?mlon=40.334308149413&mlat=43.884431273549&zoom=16" target="_blank" class="external">здесь</a>. </p>
<p><img src="/images/osm-errors-03.gif" width="564" height="385"></p>
<p>Исправляем следующим образом:</p>
<p>1. Выделяем большой полигон и нажав Ctrl - выделяем 4 узла вреза внутри него. Нажимаем 'G', чтобы они отлипли от полигона кустарника под ним.</p>
<p><img src="/images/osm-errors-04.gif" width="563" height="382"> </p>
<p>2. Снимаем выделение. Еще раз выделяем 4 точки острова. Удаляем их.</p>
<p>3. Также удаляем линию вреза.</p>
<p><img src="/images/osm-errors-05.gif" width="564" height="380"></p>
<p>4. Выделяем полигон леса и остров, <a href="/qa/josm-start.html">создаем отношение</a>. </p>
<h2>Пример 3 </h2>
<p>Лишний узел в верхней части полигона озера.</p>
<p><img src="/images/osm-errors-06.gif" width="379" height="303"> </p>
<p>Исправляем следующим образом:</p>
<p>Удаляем узел. </p>
<p><img src="/images/osm-errors-07.gif" width="378" height="300"> </p>
<h2>Пример 4 </h2>
<p>Ненужное отношение, участники (3 полигона) помечены как внутренние (inner) и внешние, но на самом деле расположены отдельно друг от друга. Найдено и исправлено <a href="http://www.osm.org/?mlon=38.96979332174&mlat=45.238703091499&zoom=16" target="_blank" class="external">здесь</a>. </p>
<p><img src="/images/osm-errors-08.gif" width="273" height="397"></p>
<p><img src="/images/osm-errors-09.gif" width="700" height="500"></p>
<p>Исправляем следующим образом:</p>
<p>Выбираем участников и удаляем их из отношения.</p>
<h2>Пример 5</h2>
<p>Неправильный остров сделанный с использованием вреза, а не отношения. Ситуация похожая на Пример 2. Разница состоит в том, как сделан врез. Найдено и исправлено <a href="http://www.osm.org/?mlon=38.3456&mlat=59.8255&zoom=16" target="_blank" class="external">здесь</a>.</p>
<p><img src="/images/osm-errors-10.gif" width="475" height="421"></p>
<p>Особенно вреза определяется щелчком по одной из двух точек линии, которую необходимо убрать. Если узлы выглядят не залитыми красным прямоугольниками, а красными обводками с желтым узлом внутри, то это означает, что узла в каждой точке на самом деле 2. </p>
<p><img src="/images/osm-errors-11.gif" width="470" height="418"></p>
<p>Исправляем следующим образом:</p>
<p>Рамкой обводим каждый из двух узлов, выделяя каждый раз по два 2. Нажимаем M для их объединения в 1. </p>
<p><img src="/images/osm-errors-12.gif" width="475" height="424"></p>
<p>После этого в каждом из объединенных узлов производим операцию разрезания 'P'.</p>
<p><img src="/images/osm-errors-13.gif" width="473" height="420"> </p>
<p>Удаляем серую соединительную линию, которая больше не нужна (линий на самом деле две). Завершаем работу создав соответствующее отношение типа остров-озеро, не забыв удалить лишние теги у острова. </p>
<h2>Пример 6. Переусложненное отношение </h2>
<p>Иногда, включение полигонов в отношения не оправдано, особенно если это приводит ко включению в отношение нескольких полигонов outer разделенных в пространстве. Найдено и исправлено <a href="http://www.osm.org/?mlon=38.3456&mlat=59.8255&zoom=16" target="_blank" class="external">здесь</a>.</p>
<p>На первый взгляд такой мультиполигон совершенно корректен. </p>
<p><img src="/images/osm-errors-14.gif" width="501" height="440"></p>
<p>Однако, если посмотреть часть какого мультиполигона является inner, выясняется, что в таком отношении понять, кто с кем связан - невозможно. Также этот набор полигонов не является некой логической совокупностью, выделенной с помощью отношения. Значит такое включение неверно. </p>
<p><img src="/images/osm-errors-15.gif" width="700" height="500"></p>
<p>Исправляем следующим образом:</p>
<p>Выделяем в редакторе отношений нужный inner и outer, удаляем их из отношения. Создаем для них новое, включающее только эти два полигона, со своими ролями.</p>
<div class="links">
	<h2>Ссылки по теме</h2>
		<ul>
			<li><a href="/qa/josm-start.html">Основы редактирования данных OpenStreetMap в JOSM</a></li>
			</ul>
</div>
<p class="discuss">
   <span><!--#include virtual="/scripts/forum-comments-num.php?i=3998"--></span>
</p>
<!--Contents end-->
<!--#include virtual="/scripts/date.php" -->
<p class="status"><span>Дата создания: 04.10.2009
<br>Автор(ы): <a href="/forum/memberlist.php?mode=viewprofile&u=2" target="_blank">Максим Дубинин</a></span></p>
<!--#include virtual="/inc/footer2.php" -->