<!--#include virtual="/inc/header02.txt" -->
<title>GIS-Lab: Импорт данных SRTM с помощью Arcinfo Workstation</title>
<!--#include virtual="/inc/header2.txt" -->
<div class="cont">
<div class="col1">

<ul class="path">
   <li class="first"><a href="/">Главная</a></li>
   <li><a href="/qa.html">Вопросы и ответы</a></li>
</ul>
<!--Contents start-->
<h1>Импорт данных SRTM с помощью Arcinfo Workstation</h1>
<p class="ann">Об импорте с помощью Arcinfo Workstation</p>
<p class="discuss discuss_top"><span><!--#include virtual="/scripts/forum-comments-num.php?i=5237"--></span></p>
<p><b>Shuttle radar topographic mission
              (SRTM) </b>- Радарная топографическая съемка большей части территории
              земного шара, за исключением самых северных (&gt;60), самых южных
              широт (&gt;54), а также океанов, произведенная за 11 дней в феврале
              2000г с помощью специальной радарной системы. Двумя радиолокационными
              сенсорами SIR-C и X-SAR, было собрано более 12 терабайт данных (что
              примерно равно объему информации библиотеки конгресса).</p>
            <p>С подробным описанием данных и источниками получения можно ознакомиться в <a href="/qa/srtm.html">специальной статье</a>. </p>
            <p align="center"><img src="/images/srtm-01.jpg" width="540" height="275" alt="Схема покрытия территории Земли съемкой SRTM" /></p>
            <p align="center"><b>Схема покрытия территории Земли
              съемкой SRTM <br />
              (Land 0-1-2-3-4, Water 0-1-2-3-4 - сколько раз был снят участок
              земной или водной поверхности)</b></p>
            <h3>Описание импорта данных в формате HGT </h3>
            <p><b><a name="prepare" id="prepare"></a>Подготовка данных для импорта в формат GRID</b></p>
            <ol>
              <li>Определить, какие именно матрицы вам нужны, это
                можно сделать наложив обычную сетку через 1 градус и определив
                название матрицы (см. выше). Легко найти нужный лист можно использовав <a href="/other/grid1dg.zip">покрытие grid1dg</a>, которое представляет
                собой готовую сетку через 1 градус, в атрибутивной таблице которой,
                в поле <b>Tilename</b> каждой градусной ячейке приписано имя соответствующей
                матрицы</li>
              <li>Разархивировать нужный файл и изменить его расширение
                с HGT на BIL</li>
              <li>Создать новый текстовый файл, с именем таким же
                как имя файла BIL, и с расширением HDR (файл заголовка). Таким
                образом каждая матрица рельефа будет представлена двумя файлами
                с одинаковыми названиями, но разными разрешениями. Например: <b>n45e136.bil</b> и <b>n45e136.hdr</b></li>
              <li> Содержание текстового файла HDR должно быть следующим:<br />
                <br />
                <tcode>BYTEORDER M<br />
                        LAYOUT BIL<br />
                        NROWS 1201<br />
                        NCOLS 1201<br />
                        NBANDS 1<br />
                        NBITS 16<br />
                        BANDROWBYTES 2402<br />
                        TOTALROWBYTES 2402<br />
                        BANDGAPBYTES 0<br />
                        NODATA -32768<br />
                        ULXMAP 136<br />
                        ULYMAP 46<br />
                        XDIM 0.000833333333333<br />
                        YDIM 0.000833333333333 </tcode>
              </li>
            </ol>
            <p>Приведенные выше строки можно просто скопировать и
              вставить в созданный <b>HDR</b> файл, изменить значение нужно в
              двух строках <b>ULXMAP</b> и <b>ULYMAP</b> (координаты X и Y вернего
              левого угла). Как упоминалось выше, эти данные можно взять из названия,
              однако следует помнить, что название файла является координатами
              левого нижнего угла, а записывать нужно координаты левого верхнего.
              Таким образом, параметр <b>ULYMAP</b> будет отличаться от цифры
              в названии файла на единицу в сторону увеличения (см. название файла
              и содержание <b>HDR</b> файла, параметр <b>ULYMAP</b>).</p>
            <p>Координаты угла матрицы SRTM согласно <a href="ftp://e0srp01u.ecs.nasa.gov/srtm/version1/Documentation/SRTM_Topo.txt" target="_blank">описанию данных</a> считаются относительно центра пиксела, в Arcview координаты пиксела соответствуют не его верхнему левому углу, а центру, то есть дополнительный сдвиг <b>ULXMAP</b> и <b>ULYMAP</b> (полпиксела по X и Y) вводить НЕ НУЖНО.</p>
            <tcode>For example, the coordinates of the lower-left corner of tile N40W118 are 40 degrees north latitude and 118 degrees west longitude. To be more exact, these coordinates refer to the <strong>geometric center of the lower left pixel</strong></tcode>
            <p>Дальнейшая обработка может производиться как в Arcinfo
              Workstation, так и в <a href="/qa/srtm-sa.html">модуле Arcview Spatial
              Analyst</a>, ArcGIS и т.д.</p>
            <p>4. Конвертация в формат GRID. Осуществляется с помощью
              команды IMAGEGRID. <br />
              Например: <br />
            </p>
            <tcode>arc&gt;<b> imagegrid n45e136 n45e136</b></tcode>
            <p>5. Восстановление отрицательных значений. Осуществляется
              с помощью команды CON модуля GRID. <br />
              Например:</p>
            <tcode>arc&gt;<b> grid<br />
                    </b>grid&gt;<b> n45e136с = con(n45e136 &gt;= 32768, n45e136
                    - 65536, n45e136)</b></tcode>
            <p>Если не произвести эту операцию, то легенда построенная
              по методу градуированной шкалы (graduated color) в Arcview, будет
              учитывать значения =&gt; 32768 и соответственно будет строиться неправильно,
              так как таких высот не существует. Команда IMAGEGRID не поддерживает
              конвертацию 16-битных положительных/отрицательных данных (signed 16 bit), поэтому отрицательные высоты (включая
              значение nodata) интепретируются неправильно при импорте и их необходимо пересчитать.<br />
            </p>
            <p>6. Установка значения NODATA. Осуществляется с помощью
              команды SETNULL модуля GRID.<br />
              Например:</p>
            <tcode>grid&gt;<b> n45e136z = setnull (n45e136c &lt;=
                    -32768, n45e136)</b></tcode>
            <p>Если у вас есть Arcinfo Workstation, но нет желания
              повторять вручную вышеперечисленные шаги для большого количества
              файлов, Вы можете воспользоваться специальным <b><a href="/qa/process-srtm.html">генератором
              sml-файлов</a></b>, которые содержат все необходимые операции,
              включая склейку из фрагментов единой матрицы рельефа.</p>
            <p><b><a name="import" id="import"></a>Импорт данных в Arcinfo Workstation</b></p>
            <p>Для начала работы с программой, ей надо указать директорию
              в которой лежат уже распакованные (но без любой обработки, включая
              переименование) файлы <b>HGT</b>. Результатом работы программы будет
              новый файл <b>!process-srtm.sml</b>, представляющий собой набор
              команд для полной обработки всех <b>HGT</b> файлов лежащих в выбранной
              вами директории.</p>
            <p>Чтобы выполнить пакет в Arcinfo Workstation, нужно
              после запуска Arcinfo:</p>
            <p>1. Задать рабочую директорию, полное имя директории в которой лежат
              HGT файлы (например c:\work\srtm)</p>
            <tcode><b>&amp;workspace полное_имя_директории </b></tcode>
            <p>2. Запустить пакетный файл, этот файл должен лежать там
              же где и HGT файлы</p>
            <tcode><b>&amp;run !process-srtm.sml</b> </tcode>
            <p>Результатом работы данного пакета является одно покрытие
              в формате GRID, содержащее исправленные и склеенные в одно покрытие
              матрицы рельефа.</p>
            <p class="discuss">
				<span><!--#include virtual="/scripts/forum-comments-num.php?i=5237"--></span>
			</p>
			<div class="links">
			   <h2>Ссылки по теме</h2>
			   <ul>
			               <li><a href="/qa/process-srtm.html">Использование Process-srtm для импорта данных SRTM</a></li>
						   <li><a href="/docs/srtm-water.rar">Документация по данным об объектах гидросети полученных на базе данных SRTM</a></li>
			               <li><a href="http://www2.jpl.nasa.gov/srtm/" target="_blank" class="external">Официальный сайт миссии SRTM</a></li>
			   </ul>
			</div>
<!--Contents end-->
<!--#include virtual="/scripts/date.php" -->
<p class="status"><span>Дата создания: 23.01.2004
<br>Автор(ы): <a href="/forum/memberlist.php?mode=viewprofile&u=2" target="_blank">Максим Дубинин</a></span></p>
<!--#include virtual="/inc/footer2.php" -->
