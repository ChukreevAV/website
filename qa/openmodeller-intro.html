<!--#include virtual="/inc/header02.txt" -->
<title>GIS-Lab: Начало работы с openModeller</title>
<!--#include virtual="/inc/header2.txt" -->
<div class="cont">
<div class="col1">

<ul class="path">
   <li class="first"><a href="/">Главная</a></li>
   <li><a href="/qa.html">Вопросы и ответы</a></li>
</ul>
<!--Contents start-->
<h1>Начало работы  с openModeller</h1>
<p class="ann">Знакомимся с openModeller&nbsp;&mdash; библиотекой моделирования
экологических ниш, которая предоставляет единый метод моделирования структурного
распределения при помощи различных алгоритмов.</p>
<p class="discuss discuss_top"><span><!--#include virtual="/scripts/forum-comments-num.php?i=6803"--></span></p>

<p>openModeller&nbsp;&mdash; свободный  инструмент
моделирования единовременного пространственного распределения с открытым исходным кодом.</p>
<p><strong>Оглавление</strong></p>
<ol>
  <li><a href="#01">Общие сведения</a></li>
  <li><a href="#02">Получение и установка</a></li>
  <li><a href="#03">Запуск. Основные возможности</a></li>
  <li><a href="#04">Пример</a></li>
  <li><a href="#05">Заключение</a></li>
</ol>

<!-- Первый раздел -->
<h2><strong><a name="01" id="01"></a></strong>1. Общие сведения</h2>
<p>Существует ряд приложений для выполнения анализа фундаментальных
экологических ниш. Среди наиболее известных: Bioclim, DesktopGARP, MaxEnt
и другие. Как правило, каждое из этих приложений создано для использования
конкретного алгоритма и, в основном, все они являются закрытыми коммерческими
разработками. Кроме того, каждое приложение имеет свои системные требования
(например, наличие Java или работа только в среде MS Windows) и требования
к исходным данным. Все это приводит к тому, что пользователю, желающему
использовать разные алгоритмы, приходится осваивать новое ПО и адаптировать
исходные данные.</p>
<p>С целью устранить эти (и некоторые другие) недостатки в 2003 году в
Centro de Referência em Informação Ambiental
(<a href="http://www.cria.org.br/" target="_blank" class="external">CRIA</a>) в рамках проекта speciesLink
начали работу над openModeller. Сейчас в разработке помимо CRIA принимают
участие Escola Politécnica da USP (<a href="http://www.poli.usp.br/" target="_blank" class="external">Poli</a>),
Instituto Nacional de Pesquisas Espaciais (<a href="http://www.inpe.br/" target="_blank" class="external">INPE</a>)
и независимые разработчики-энтузиасты. Финансовую поддержку осуществляет
Fundação de Amparo à Pesquisa do Estado de São Paulo
(<a href="http://www.fapesp.br/" target="_blank" class="external">FAPESP</a>) и проект
 <a href="http://www.incofish.org/" target="_blank" class="external">Incofish</a>. В разное время
в разработке принимали участие BDWorld project (University of Reading),
University of Kansas Natural History Museum &amp; Biodiversity Research
Center (<a href="http://nhm.ku.edu/" target="_blank" class="external">KU</a>).</p>
<p>Основная цель проекта openModeller&nbsp;&mdash; предоставить удобный
инструмент исследователям, заинтересованным в моделировании экологических
ниш. Приложения разрабатываются на языке С++, используют такие библиотеки
как GDAL, GSL, TerraLib и могут работать под управлением Windows, Linux
и Mac OS X.</p>
<p>Модульная структура позволяет легко добавлять новые алгоритмы. Уже
реализованы в виде подключаемых модулей алгоритмы GARP, Bioclim, CSM,
Environmental Distance и многие другие. Предоставление всех алгоритмов в
рамках единой архитектуры облегчает сравнение результатов, полученных
разными методами, поскольку все модели можно построить с использованием
одних и тех же независимых данных и получить результат в одном и том же
формате.</p>
<p>Проект состоит из нескольких частей. Первая и самая важная&nbsp;&mdash;
библиотека openModeller, которая предоставляет общую платформу для всех
остальных частей проекта. Она занимается чтением 
данных представляющих параметры окружающей среды и данных о местах находок видов; загрузкой и запуском алгоритмов;
записью результатов анализа. Помимо самой библиотеки доступны привязки к
языкам С++ и Python.</p>
<p>Web Services API на базе SOAP позволяет выполнять моделирование на
удаленных машинах. Также предоставляется CGI приложение для интеграции
openModeller с web-сервером Apache.</p>
<p>Разработан ряд инструментов командной строки. <em>om_console</em> позволяет
выполнить модель, используя текстовые конфигурационные файлы, в которых
указываются исходные наборы данных. <em>om_create</em> и <em>om_project</em>
позволяют использовать openModeller с конфигурационными файлами в XML формате.
Существуют и другие вспомогательные приложения, например, используя
<em>om_sampledump</em> можно извлечь данные о каждой точке находки и
сохранить результат в виде текста с разделителями.</p>
<p>Для конечных пользователей разработан кроссплатформенный графический
интерфейс (используется библиотека виджетов Qt) openModeller Desktop.</p>

<!-- Второй раздел -->
<h2><strong><a name="02" id="02"></a></strong>2. Получение и установка</h2>
<p>openModeller состоит из двух компонент: ядра системы со вспомогательными
консольными приложениями (openModeller) и графического интерфейса (openModeller
Desktop). Также существует расширение для QGIS, позволяющие ставить эксперименты
и просматривать результаты не покидая ГИС.</p>
<p>На момент написания статьи, для скачивания была доступна версия 1.1.0, в наличии
установщик для Windows, rpm-пакеты и тарболы с исходным кодом для Linux,
файлы DMG для MacOS (загрузить <a href="http://sourceforge.net/projects/openmodeller/files/openModeller/1.1.0/">openModeller</a>
и <a href="http://sourceforge.net/projects/openmodeller/files/openModeller%20Desktop/1.1.0/">openModeller Desktop</a>).
Желающие использовать самую последнюю версию могут взять исходный код
из svn:</p>
<pre>svn co https://openmodeller.svn.sourceforge.net/svnroot/openmodeller openmodeller</pre>
<p>и собрать его самостоятельно. Модуль для QGIS в скомпилированном виде
не распространяется, если он нужен&nbsp;&mdash; без компиляции не обойтись.</p>

<h2><strong><a name="03" id="03"></a></strong>3. Запуск. Основные возможности</h2>
<p>Далее будем рассматривать работу с приложением openModeller Desktop,
которое позволяет пользоваться всеми возможностями openModeller не прибегая
к программированию и не используя  командную строку.</p>

<p align="center"><img src="/images/openmodeller-intro-01.png" alt="openModeller Desktop" width="972" height="786"></img></p>

<p>С помощью openModeller Desktop можно:</p>
<ol>
  <li>автоматически получать данные о распространении видов из таких баз
  данных как <a href="gbif-intro.html">GBIF</a> и speciesLink</li>
  <li>управлять растровыми слоями, которые будут использоваться в моделировании</li>
  <li>управлять параметрами алгоритмов, которые включены в состав openModeller</li>
  <li>создавать эксперименты, которые будут запускать несколько моделей для
  одного или нескольких видов используя один или несколько алгоритмов</li>
  <li>визуализировать результаты экспериментов, просматривая каждую модель
  в табличном виде или на карте.</li>
</ol>
<p>Познакомимся с основными инструментами openModeller DesktopL</p>

<p><strong>Модуль поиска точек встреч видов</strong></p>
<p>Для моделирования экологических ниш необходимо иметь два вида данных:
  данные о распространении вида (точки встреч, локации) и слои с данными о климате и других 
  параметрах окружающей среды.
</p>
<p>Данные о распространении видов можно получить из разных источников начиная
от специальной литературы и заканчивая запросом в соответствующие организации/базы данных,
такие как, например, <a href="gbif-intro.html">GBIF</a>.</p>
<p>В openModeller Desktop есть модуль поиска данных о точках встреч видов
(Search for locality data), при помощи которого можно выполнять поиск
данных в базах GBIF и speciesLink. Для этого</p>
<ul>
  <li>нажмите на кнопку &laquo;Search for locality data&raquo;</li>
  <li>чтобы использовать данные GBIF необходимо согласиться с условиями
  использования</li>
  <li>в поле &laquo;Search term&raquo; введите название вида и нажмите
  на кнопку со знаком &laquo;+&raquo; (плюс). Искать можно несколько видов
  одновременно. Кроме того предусмотрена возможность загрузки списка видов
  из текстового файла (по одному виду в строке)</li>
  <li>укажите каталог, где будут располагаться результаты поиска</li>
  <li>запустите поиск, нажав &laquo;Next&raquo;</li>
</ul>

<p align="center"><img src="/images/openmodeller-intro-02.png" alt="Поиск данных о распределении" width="651" height="409"></img></p>

<p>По окончанию поиска будет показан отчет о проделанной работе. А в указанной
папке появится точечный shape-файл и текстовый файл с данными. Примечание:
при большом числе точек возможно аварийное завершение работы модуля.</p>

<p align="center"><img src="/images/openmodeller-intro-03.png" alt="Отчет о результатах поиска" width="651" height="409"></img></p>

<p>
  <!-- layerset manager, algorithm manager, данные для моделирования -->
  <strong>Менеджер слоёв</strong></p>
<p>В процессе моделирования часто приходится использовать одни и те же слои.
  openModeller Desktop позволяет упростить эту задачу, объединяя слои в так
  называемые &laquo;наборы слоёв&raquo; при помощи инструмента Layerset Manager. </p>
<p align="center"><img src="/images/openmodeller-intro-04.png" alt="Layerset Manager" width="567" height="530"></img></p>

<p>Слои можно объединить в группу с запоминающимся именем, например,
&laquo;Глобальный климат&raquo;, добавить к группе описание. Когда набор
создан, он становится доступен для выбора при создании эксперимента. Для
создания набора нужно:</p>
<ul>
  <li>вызвать Менеджер наборов слоёв, нажав на кнопку &laquo;Layerset Manager&raquo;</li>
  <li>задать имя набора и, при желании, описание</li>
  <li>нажать на кнопку с зеленым знаком &laquo;+&raquo; и указать каталог
  со слоями</li>
  <p align="center"><img src="/images/openmodeller-intro-05.png" alt="Добавление слоёв в набор" width="533" height="492"></img></p>
  <li>выбрать необходимые слои и нажать &laquo;OK&raquo;</li>
  <li>после нажатия на &laquo;Apply&raquo; в списке доступных наборов
  появится новый пункт</li>
</ul>

<p align="center"><img src="/images/openmodeller-intro-06.png" alt="Наборы слоёв" width="567" height="530"></img></p>

<p><strong>Менеджер алгоритмов</strong></p>
<p>Менеджер алгоритмов (Algorithm manager) позволяет просматривать все
  доступные подключаемые модули моделирования, установленные вместе с библиотекой
  openModeller.
</p>
<p align="center"><img src="/images/openmodeller-intro-07.png" alt="Algorithm Manager" width="889" height="549"></img></p>

<p>Все алгоритмы поставляются с предустановлеными параметрами по умолчанию
(определяются автором алгоритма) и могут использоваться без дополнительной
настройки. В Менеджере алгоритмов эти параметры отображаются в виде неизменяемых
&laquo;системных профилей&raquo;. &laquo;Cистемные профили&raquo; можно
клонировать и создавать на их основе &laquo;пользовательские профили&raquo;.
Изменение параметров требует знания деталей функционирования соответствующего
алгоритма, но в то же время предоставляет опытным пользователям большую
гибкость и возможность контроля. Новички могут просто использовать
&laquo;cистемные профили&raquo; без изменений.</p>

<h2><strong><a name="04" id="04"></a></strong>4. Пример</h2>
<p>Одна из задач экологического моделирования ниш&nbsp;&mdash; определение
областей, уязвимых к появлению инвазивных видов. В этом примере мы покажем
как использовать openModeller для поиска потенциальных областей появления
Acacia cyclops. Acacia cyclops&nbsp;&mdash; растение, произрастающее в
юго-западной части Австралии, но может быть занесено и в другие части
мира.</p>
<p>Прежде всего необходимо получить информацию о местах произрастания
Acacia cyclops, это можно сделать при помощи инструмента
&laquo;Search for locality data&raquo;. Так как полученный файл содержит
данные по всему миру, то мы отредактировали его, оставив только данные по
Австралии. Это сделано для того, чтобы построить модель исключительно на
основе данных об изначальном распространении вида.</p>
<p>Затем, при помощи Layerset Manager, был создан набор слоёв, содержащий
23 слоя с данными о темепературе, осадка и т.п. Слои были загружены с сайта
CRU (<a href="http://www.cru.uea.ac.uk/" target="_blank" class="external">http://www.cru.uea.ac.uk/</a>).</p>
<p>Данные о распределении вида, экологические слои и алгоритм&nbsp;&mdash;
три основных составляющих эксперимента. Редактор экспериментов (Experiment
designer) прозволяет указать как эти составляющие должны быть связаны.</p>

<p align="center"><img src="/images/openmodeller-intro-08.png" alt="Experiment designer" width="620" height="740"></img></p>

<p>Каждый эксперимент имеет уникальное имя и описание. При помощи редактора
экспериментов можно создавать сложные эксперименты, моделирующие несколько
видов с использованием нескольких алгоритмов. Запуск процесса моделирования
выполняется через специальный модуль, так называемый &laquo;modeller plugin&raquo;.
На момент написания статьи существует два таких модуля:</p>
<ul>
  <li>&laquo;local&raquo;, использующий библиотеку openModeller напрямую</li>
  <li>&laquo;web services&raquo;, умеющий отсылать задания на удаленный
  сервер через openModeller Web Services API</li>
</ul>
<p>По окончанию процесса моделирования, в основном окне отображается
древовидное представление эксперимента. Корневой элемент соответствует
эксперименту, элементы второго уровня соответсвуют используемым профилям
алгоритмов, а конечные узлы являются отдельными моделями.</p>
<p>Выбрав модель, в правой части окна мы получим подробный отчет, кроме
того результаты моделирования можно просмотреть на карте. Просмотрщик
карты использует библиотеки Quantum GIS и позволяет выполнять панормирование,
масштабирование и сохранение видимой части карты.</p>

<p align="center"><img src="/images/openmodeller-intro-09.png" alt="Отчет по модели" width="971" height="784"></img></p>

<p align="center"><img src="/images/openmodeller-intro-10.png" alt="Просмотр результатов на карте" width="971" height="784"></img></p>

<p>В нашем примере данные о распространении Acacia cyclops в Австралии
были использованы для создания модели, которая потом была применена к
глобальному (на всю планету) набору данных. На рисунке показаны результаты
применения модели к юго-западной части Австралии.</p>

<p align="center"><img src="/images/openmodeller-intro-11.png" alt="Результат моделирования по Австралии" width="688" height="600"></img></p>

<p>Исходные места появления, которые использовались при создании модели,
показаны зелеными точками. Синим цветом показаны области с малой вероятностью
появления данного вида. А градиентом от голубого к желтому, а затем
к красному показаны области с возрастанием вероятности. Т.е. если растение
будет занесено в область, показаную красным, то вероятность его выживания
очень высока. Ниже показан фрагмент этой же модели, но уже в районе Южной
Африки.</p>

<p align="center"><img src="/images/openmodeller-intro-12.png" alt="Результат моделирования по Африке" width="687" height="599"></img></p>

<p>Как видим, на основании модели можно утверждать, что в Южной Африке
имеются районы с оптимальной средой для произрастания Acacia cyclops.
Действительно, Acacia cyclops является проблемным инвазивным растением,
завезенным в Африку для укрепления песчаных дюн.</p>

<p>А вот как выглядит openModeller в QGIS</p>

<p align="center"><img src="/images/openmodeller-intro-13.png" alt="openModeller в QGIS" width="917" height="657"></img></p>

<h2><strong><a name="05" id="05"></a></strong>5. Заключение</h2>
<p>Проект openModeller предоставляет решения как для для пользователей,
так и для разработчиков, интересующихся моделированием экологических ниш.
Библиотека openModeller позволяет использовать наработки проекта в других
программах. При помощи инструментов командной строки можно создавать
различные сценарии для пакетной обработки. Приложение openModeller Desktop
предоставляет удобный пользовательский интерфес, а используя openModeller
Web Services API можно развернуть openModeller на производительном сервере.</p>
<p>Модульная архитекура позволяет использовать различные методики без
необходимости каждый раз осваивать новое программное обеспечение
или адаптировать исходные данные под разные требования. Кроме того, модульная
архитектура позволяется разработчикам концентрироваться исключительно на
реализации основного функционала алгоритма, и не отвлекаться на создание
интерфеса и процедур ввода/вывода данных.</p>
<p>Приложение openModeller Desktop и расширение для QGIS предоставляют
среду, где можно выполнить все операции начиная с подготовки данных,
планирования и проведения эксперимента, и заканчивания визуализацией
результатов.</p>

<!-- обсуждение на форуме, цифра изменяется при публикации статьи -->
<p class="discuss"><span><!--#include virtual="/scripts/forum-comments-num.php?i=6803"--></span></p>

<div class="links">
<h2>Ссылки по теме</h2>
<ul>
   <li><a href="http://openmodeller.sourceforge.net/" target="_blank" class="external">openModeller Home</a></li>
   <li><a href="/qa/gbif-intro.html">Глобальная база данных по биоразнообразию&nbsp;&mdash; GBIF</a></li>
</ul>
</div>

<!--Contents end-->
<!--#include virtual="/scripts/date.php" -->
<p class="status"><span>Дата создания: 02.05.2011
<br>Автор(ы): <a href="forum/memberlist.php?mode=viewprofile&u=5325" target="_blank">Александр Бруй</a></span></p>
<!--#include virtual="/inc/footer2.php" -->
