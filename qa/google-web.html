<!--#include virtual="/inc/header02.txt" -->
<title>GIS-Lab: Размещение Google Maps на своей интернет странице</title>
<!--#include virtual="/inc/header2.txt" -->
<!--Contents start-->
<div class="cont">
<div class="col1">

<ul class="path">
   <li class="first"><a href="/">Главная</a></li>
   <li><a href="/qa.html">Вопросы и ответы</a></li>
</ul>
<h1>Размещение Google Maps на своей интернет странице</h1>
            <p class="ann">Как использовать сервис Google Maps для демонстрации карт на своем интернет сайте.</p>
            <p>Google Maps <a href="http://maps.google.com/" target="_blank">http://maps.google.com/</a> - картографический сервис работающий в режиме web страницы (<a href="/qa/google-gen.html">подробнее о сервисе</a> ). Разработчикам  предоставляется возможность свободно размещать окно карты на своих страницах и осуществлять некоторую ее настройку. Для размещения карты на определенной странице своего web-сайта можно использовать следующую инструкцию:</p>
            <h2>1. Регистрация учетной записи пользователя</h2>
            <p>Перед началом работы с API Google Maps, необходимо получить права пользователя на <a href="http://www.google.com/accounts/" target="_blank">http://www.google.com/accounts/</a></p>
            <h2>2. Регистрация веб-сайта</h2>
            <p>Регистрация  происходит по адресу <a href="http://www.google.com/apis/maps/signup.html" target="_blank">http://www.google.com/apis/maps/signup.html</a>.  После принятия лицензионного соглашения вы получаете уникальный код (API key), позволяющий пользоваться сервисом Google Maps. Этот код в последствии должен будет присутствовать на странице с картой и будет служить для идентификации пользователя-сайта.</p>
            <p>В результате регистрации доступ к сервису получает определенный сервер. Все страницы этого сервера могут пользоваться одним и тем же ключом. Например, если Ваш сайт называется <strong>http://gis-lab.info</strong>, то регистрация может быть использована на всех страницах адрес которых начинается с <strong>http://gis-lab.info</strong>. Следовательно для сайта:<strong> http://www.gis-lab.info </strong>(то с www), эта регистрация работать уже не будет. Также можно получить API key для определенной папки на сайте, например <strong>http://gis-lab.info/folder</strong>, таким образом этот ключ будет работать только для карт на страницах находящихся в этой папке.</p>
            <h2> 3. Использование полученной регистрации на веб-странице</h2>
            <p>Для подключения к сервису в текст страницы добавляются строки регистрации, включающие полученный вами уникальный код. Этот фрагмент кода в виде скрипта располагается между тэгов заголовка страницы &lt;head&gt;&lt;/head&gt;.</p>
<pre>&lt;head&gt;
…
/* Получить доступ к сервису */
&lt;script src=&quot;http://maps.google.com/maps?file=api&amp;amp;v=2&amp;amp;key=<i>полученный вами ключ</i>&quot; type=&quot;text/javascript&quot;&gt;&lt;/script&gt;
...
&lt;/head&gt;</pre>
<h2> 4. Скрипты создания и визуализации карты</h2>
<p>Основной скрипт, необходимые для создания карты, должен располагаться сразу после скрипта инициализации, также между тэгов &lt;head&gt;&lt;/head&gt;. </p>
<pre>&lt;script type=&quot;text/javascript&quot;&gt;
//&lt;![CDATA[
function load() {
/* Проверка на совместимость с используемым браузером*/
<strong>if (GBrowserIsCompatible()) {</strong>
/* Создать точку - центр */
<strong>var pntx=37.62039542198181;
var pnty=55.75294375419617;
var center = new GLatLng(pnty, pntx);</strong>
/* Создание объекта карты, googlemap - имя, по которому находится объект карты, описываемый ниже*/
<strong>var map = new GMap2(document.getElementById(&quot;mapgoogle&quot;));</strong>
...</pre>
            <p>Стандартные элементы управления, такие как масштабная линейка, навигационная панель, переключение вида карты могут присутствовать или отсутствовать на вашей карте. Для появления этих элементов, необходимо добавить одну из этих строк (или их все, в зависимости от того, какие элементы навигации вы хотите получить на карте) к скрипту приведенному выше. </span></p>
<pre>...
/* Создать элементы навигации, масштабную линейку */
<strong>var map_ctrl=new GLargeMapControl();
var map_type_ctrl=new GMapTypeControl();
var map_scale_ctrl=new GScaleControl();</strong>
/* Добавить элементы навигации */
<strong>map.addControl(map_ctrl);</strong>
/* Кнопки выбора типа карты*/
<strong>map.addControl(map_type_ctrl);</strong>
/* Добавить масштабную линейку */
<strong>map.addControl(map_scale_ctrl);
</strong>/* Центрировать карту по созданной точке, установить масштаб и сделать начальным видом - космическую съемку, а не карту*/<strong>
  map.setCenter(center, 17, G_SATELLITE_TYPE);</strong>
<strong>}
}</strong>
<strong>//]]&gt;</strong>
<strong>&lt;/script&gt;</strong>
...
<strong>&lt;body onload=&quot;load()&quot; onunload=&quot;GUnload()&quot;&gt;</strong>
...</pre>
            <p>В тэге &lt;body&gt; должны быть определены функции вызова основной процедуры создания и показа карты, а также освобождения памяти, после того, как пользователь покидает страницу.</p>
            <pre>&lt;body onload=&quot;load()&quot; onunload=&quot;GUnload()&quot;&gt;</pre>
            <h2> 5. Размещение на веб-странице окна карты</h2>
            <p>Окно карты размещаем опять же в виде скрипта располагается между тэгов собственно страницы &lt;body&gt;.</p>
<pre>&lt;body&gt;
...
/* Размещение на странице */
<strong>&lt;div align=&quot;center&quot;&gt;&lt;div id=&quot;mapgoogle&quot; style=&quot;width: 90%; height: 500px;&quot;&gt;&lt;/div&gt;&lt;/div&gt;</strong>
...
<strong>&lt;/body&gt;</strong></pre>
            <h2>6. Результат</h2>
            <p><a href="/qa/google-web-test.html" target="_blank">Посмотреть пример</a>. В исходном коде страницы примера можно найти необходимые фрагменты кода. На странице должно быть 3 основных фрагмента: Part1 (скрипт идентификации), Part2 (скрипт создания карты), Part3 (размещение карты на странице). Эти части, на странице примера обозначены следующим образом: </p>
            <p><strong>&lt;!-- GOOGLE Part1 START --&gt;<br />
              &lt;!-- GOOGLE Part1 END --&gt; </strong></p>
            <p>Авторы и клиенты могут локально дополнять карту своими данными. Несложные команды позволяют добавить на карту собственные контуры, маркеры, интерактивные подсказки и всплывающие окна. Данные для отображения могут находиться как непосредственно в коде web страниц, так и во внешних файлах. Имеется возможность создавать тематические слои непосредственно в режиме просмотра web страницы. Эта часть открыта, возможности расширения классов событий, создание мастеров и специальных поисковых систем обеспечивают практически ежедневный приток новых идей и приемов. </p>
            <p>Подробную актуальную информацию вы можете получить на <a href="http://www.google.com/apis/maps" target="_blank">http://www.google.com/apis/maps</a>.</p>
            <p>Следует отметить весьма активный и профессиональный форум <a href="http://groups-beta.google.com/group/Google-Maps-API" target="_blank">http://groups-beta.google.com/group/Google-Maps-API</a> где присутствуют ответы на вопросы, не отраженные в документации, парад страниц (профессионалам стоит взглянуть на классы решаемых задач, приемы и возможности).</p>
            <p>Интерфейс Google Maps быстро развивается, пожелания и рекомендации профессионалов во многом его формируют. В совокупности с другими продуктами Google (GMail, Enterprise Search и т.д.) складывается ощущение направления IT, органически сочетающего потребности пользователей и возможности GIS для подготовки геоданных. </p>
            <p>Если у Вас есть замечания, предложения или иные пути решения обсуждаемых проблем - будем рады добавить недостающую информацию к этой статье. Вы можете отправить свои комментарии используя форму или адрес электронной почты приведенные ниже. </p>
            <p class="discuss">
				<span><!--#include virtual="/scripts/forum-comments-num.php?i=427"--></span>
			</p>
            <p align="right">GIS-Lab &amp; Валерий Хронусов </p>
			<div class="links">
			<h2>Ссылки по теме</h2>
			<ul>
               <li><a href="/qa/google-gen.html">Картографический сервис Google Maps. Общая информация</a></li>
			   <li><a href="/qa/google-earth.html">Google-Earth - новые возможности представления географических данных</a></li>
			</ul>
			</div>
<!--Contents end-->
<!--#include virtual="/scripts/date.php" -->
<p class="status"><span>Дата создания: 27.07.2005
<br>Автор(ы): <a href="/forum/memberlist.php?mode=viewprofile&u=2" target="_blank">Максим Дубинин</a></span></p>
<!--#include virtual="/inc/footer2.php" -->
